{"ast":null,"code":"import _toConsumableArray from \"C:\\\\Users\\\\suresoft\\\\Desktop\\\\vomproject\\\\sure-frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/toConsumableArray\";\nimport _classCallCheck from \"C:\\\\Users\\\\suresoft\\\\Desktop\\\\vomproject\\\\sure-frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\Users\\\\suresoft\\\\Desktop\\\\vomproject\\\\sure-frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"C:\\\\Users\\\\suresoft\\\\Desktop\\\\vomproject\\\\sure-frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"C:\\\\Users\\\\suresoft\\\\Desktop\\\\vomproject\\\\sure-frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nimport _createSuper from \"C:\\\\Users\\\\suresoft\\\\Desktop\\\\vomproject\\\\sure-frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";\nimport _defineProperty from \"C:\\\\Users\\\\suresoft\\\\Desktop\\\\vomproject\\\\sure-frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";\nvar _jsxFileName = \"C:\\\\Users\\\\suresoft\\\\Desktop\\\\vomproject\\\\sure-frontend\\\\src\\\\components\\\\Manage\\\\Tool.js\";\nimport React from 'react';\nimport { Row, Col, Table, Progress, Button, UncontrolledButtonDropdown, DropdownMenu, DropdownToggle, DropdownItem, Input, Label, Badge } from \"reactstrap\";\nimport { Sparklines, SparklinesBars } from \"react-sparklines\";\nimport Widget from \"../../components/Widget\";\nimport axios from \"axios\";\nimport { name } from 'file-loader';\n\nvar Tool = /*#__PURE__*/function (_React$Component) {\n  _inherits(Tool, _React$Component);\n\n  var _super = _createSuper(Tool);\n\n  function Tool(props) {\n    var _this;\n\n    _classCallCheck(this, Tool);\n\n    _this = _super.call(this, props);\n\n    _defineProperty(_assertThisInitialized(_this), \"getRecord\", function (num) {\n      var product = _this.state.tools.find(function (item) {\n        return item.num === num;\n      });\n\n      return product;\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onEdit\", function (num) {\n      var tempProduct = _this.state.tools;\n      var index = tempProduct.indexOf(_this.getRecord(num));\n      var selectedRecord = tempProduct[index];\n\n      _this.setState({\n        num: selectedRecord['num'],\n        toolname: selectedRecord['toolname']\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"updateValue\", function (e, test) {\n      if (test === \"toolname\") {\n        _this.state.toolname = e.target.value;\n      }\n\n      var tempArr = [_this.state.toolname];\n\n      _this.setState({\n        updateEdit: tempArr\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onSave\", function (num) {\n      if (num !== '') {\n        // Update 조건문\n        var SaveRecord = _this.state.tools;\n        var index = SaveRecord.indexOf(_this.getRecord(num));\n        var Record = SaveRecord[index];\n        Record['toolname'] = _this.state.updateEdit[0];\n\n        _this.setState({\n          tools: _toConsumableArray(_this.state.tools),\n          num: \"\",\n          toolname: \"\"\n        });\n\n        axios.post(\"http://\".concat(process.env.REACT_APP_API_URL, \"/tools/update\"), //DB연동\n        {\n          num: _this.state.num,\n          toolname: _this.state.toolname\n        }).then(function (response) {\n          console.log(response);\n        });\n        window.location.reload();\n      } // Insert 조건문\n      else {\n          var MaxNum = Math.max.apply(Math, _toConsumableArray(_this.state.tools.map(function (item) {\n            return item.num;\n          })));\n\n          var _num = MaxNum + 1;\n\n          var newArr = [];\n          newArr['toolname'] = _this.state.updateEdit[0];\n\n          _this.setState({\n            tools: [].concat(_toConsumableArray(_this.state.tools), [newArr]),\n            num: \"\",\n            toolname: \"\"\n          });\n\n          axios.post(\"http://\".concat(process.env.REACT_APP_API_URL, \"/tools/add\"), //DB연동\n          {\n            num: MaxNum + 1,\n            toolname: _this.state.toolname\n          }).then(function (response) {\n            console.log(response);\n          });\n          window.location.reload();\n        }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onDelete\", function (num) {\n      if (window.confirm(\"정말 삭제하시겠습니까??\") == true) {\n        //확인\n        var tempProduct = _this.state.tools.filter(function (item) {\n          return item.num !== num;\n        });\n\n        _this.setState({\n          members: tempProduct,\n          num: \"\",\n          toolname: \"\"\n        });\n\n        axios.post(\"http://\".concat(process.env.REACT_APP_API_URL, \"/tools/delete\"), //DB연동\n        {\n          num: num\n        }).then(function (response) {\n          console.log(response);\n        });\n        window.location.reload();\n      } else {\n        //취소\n        return;\n      }\n    });\n\n    _this.state = {\n      tools: \"\",\n      num: \"\",\n      toolname: \"\",\n      updateEdit: [],\n      onEdit: _this.onEdit,\n      onDelete: _this.onDelete,\n      updateValue: _this.updateValue,\n      onSave: _this.onSave\n    };\n    return _this;\n  }\n\n  _createClass(Tool, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.findAllTools();\n    }\n  }, {\n    key: \"findAllTools\",\n    value: function findAllTools() {\n      var _this2 = this;\n\n      axios.get(\"http://\".concat(process.env.REACT_APP_API_URL, \"/tools\")).then(function (res) {\n        return res.data;\n      }).then(function (data) {\n        _this2.setState({\n          tools: data\n        });\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      return /*#__PURE__*/React.createElement(Row, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 134,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(Col, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 135,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(Widget, {\n        title: /*#__PURE__*/React.createElement(\"p\", {\n          style: {\n            fontWeight: 700\n          },\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 137,\n            columnNumber: 22\n          }\n        }, \"\\uB3C4\\uAD6C \\uAD00\\uB9AC\") // customDropDown\n        ,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 136,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(Table, {\n        responsive: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 141,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"thead\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 142,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"tr\", {\n        className: \"fs-sm\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 143,\n          columnNumber: 19\n        }\n      }, /*#__PURE__*/React.createElement(\"th\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 144,\n          columnNumber: 21\n        }\n      }, \"NO\", /*#__PURE__*/React.createElement(\"br\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 144,\n          columnNumber: 27\n        }\n      }), /*#__PURE__*/React.createElement(\"br\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 144,\n          columnNumber: 33\n        }\n      })), /*#__PURE__*/React.createElement(\"th\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 145,\n          columnNumber: 21\n        }\n      }, \"\\uB3C4\\uAD6C\\uBA85\", /*#__PURE__*/React.createElement(\"br\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 145,\n          columnNumber: 28\n        }\n      }), /*#__PURE__*/React.createElement(\"br\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 145,\n          columnNumber: 34\n        }\n      }), /*#__PURE__*/React.createElement(Input, {\n        type: \"text\",\n        value: this.state.toolname,\n        onChange: function onChange(e) {\n          _this3.state.updateValue(e, \"toolname\");\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 145,\n          columnNumber: 40\n        }\n      })), /*#__PURE__*/React.createElement(\"th\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 146,\n          columnNumber: 21\n        }\n      }, \"Action\", /*#__PURE__*/React.createElement(\"br\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 146,\n          columnNumber: 31\n        }\n      }), /*#__PURE__*/React.createElement(\"br\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 146,\n          columnNumber: 37\n        }\n      }), /*#__PURE__*/React.createElement(Button, {\n        size: \"sm\",\n        onClick: function onClick() {\n          _this3.state.onSave(_this3.state.num);\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 146,\n          columnNumber: 43\n        }\n      }, this.state.num ? \"변경\" : \"추가\")))), /*#__PURE__*/React.createElement(\"tbody\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 149,\n          columnNumber: 17\n        }\n      }, this.state.tools ? this.state.tools.map(function (c) {\n        return /*#__PURE__*/React.createElement(\"tr\", {\n          key: c.num,\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 152,\n            columnNumber: 23\n          }\n        }, /*#__PURE__*/React.createElement(\"td\", {\n          style: {\n            width: \"50px\",\n            textAlign: \"center\"\n          },\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 153,\n            columnNumber: 25\n          }\n        }, c.num), /*#__PURE__*/React.createElement(\"td\", {\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 154,\n            columnNumber: 25\n          }\n        }, c.toolname), /*#__PURE__*/React.createElement(\"td\", {\n          style: {\n            width: \"20px\"\n          },\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 155,\n            columnNumber: 25\n          }\n        }, /*#__PURE__*/React.createElement(Button, {\n          color: \"warning\",\n          className: \"UpdateBtn\",\n          size: \"sm\",\n          variant: \"primary\",\n          onClick: function onClick() {\n            _this3.state.onEdit(c.num);\n          },\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 156,\n            columnNumber: 27\n          }\n        }, \"\\uC218\\uC815\"), \"\\xA0\\xA0\", /*#__PURE__*/React.createElement(Button, {\n          color: \"default\",\n          className: \"UpdateBtn\",\n          size: \"sm\",\n          variant: \"danger\",\n          onClick: function onClick() {\n            _this3.state.onDelete(c.num);\n          },\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 157,\n            columnNumber: 27\n          }\n        }, \"\\uC0AD\\uC81C\")));\n      }) : \"\")))));\n    }\n  }]);\n\n  return Tool;\n}(React.Component);\n\nexport default Tool;","map":{"version":3,"sources":["C:/Users/suresoft/Desktop/vomproject/sure-frontend/src/components/Manage/Tool.js"],"names":["React","Row","Col","Table","Progress","Button","UncontrolledButtonDropdown","DropdownMenu","DropdownToggle","DropdownItem","Input","Label","Badge","Sparklines","SparklinesBars","Widget","axios","name","Tool","props","num","product","state","tools","find","item","tempProduct","index","indexOf","getRecord","selectedRecord","setState","toolname","e","test","target","value","tempArr","updateEdit","SaveRecord","Record","post","process","env","REACT_APP_API_URL","then","response","console","log","window","location","reload","MaxNum","Math","max","map","newArr","confirm","filter","members","onEdit","onDelete","updateValue","onSave","findAllTools","get","res","data","fontWeight","c","width","textAlign","Component"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport {\r\n    Row,\r\n    Col,\r\n    Table,\r\n    Progress,\r\n    Button,\r\n    UncontrolledButtonDropdown,\r\n    DropdownMenu,\r\n    DropdownToggle,\r\n    DropdownItem,\r\n    Input,\r\n    Label,\r\n    Badge\r\n  } from \"reactstrap\";\r\nimport { Sparklines, SparklinesBars } from \"react-sparklines\";\r\n\r\n\r\nimport Widget from \"../../components/Widget\";\r\nimport axios from \"axios\";\r\nimport { name } from 'file-loader';\r\n\r\nclass Tool extends React.Component{\r\n     \r\n    constructor(props){\r\n      super(props);\r\n\r\n      this.state={\r\n        tools:\"\", \r\n        num:\"\",\r\n        toolname:\"\",\r\n        updateEdit :[],\r\n        onEdit : this.onEdit,\r\n        onDelete : this.onDelete,\r\n        updateValue : this.updateValue,\r\n        onSave : this.onSave,\r\n\r\n      };\r\n    }\r\n\r\n    getRecord = (num) => {\r\n      const product = this.state.tools.find(item => item.num === num);\r\n      return product;\r\n    }\r\n\r\n    onEdit = (num) =>{\r\n      const tempProduct = this.state.tools;\r\n      const index  = tempProduct.indexOf(this.getRecord(num));\r\n      const selectedRecord = tempProduct[index];\r\n      this.setState({\r\n        num : selectedRecord['num'],\r\n        toolname : selectedRecord['toolname'],\r\n      })\r\n    }\r\n\r\n    updateValue= (e,test) =>{\r\n      if(test === \"toolname\"){\r\n        this.state.toolname = e.target.value;\r\n      }\r\n      const tempArr = [this.state.toolname];\r\n      this.setState({\r\n        updateEdit : tempArr\r\n      })\r\n    }\r\n\r\n    onSave = (num) =>{\r\n      if(num!==''){ // Update 조건문\r\n        const SaveRecord = this.state.tools;\r\n        const index = SaveRecord.indexOf(this.getRecord(num));\r\n        const Record = SaveRecord[index];\r\n        Record['toolname'] = this.state.updateEdit[0];\r\n        this.setState({\r\n          tools : [...this.state.tools],\r\n          num :\"\" , toolname:\"\",\r\n        })\r\n\r\n        axios.post(`http://${process.env.REACT_APP_API_URL}/tools/update`, //DB연동\r\n        {num: this.state.num, toolname: this.state.toolname}).then((response)=>{\r\n        console.log(response);\r\n         });\r\n         window.location.reload();\r\n      }\r\n      // Insert 조건문\r\n      else{ \r\n        const MaxNum = Math.max(...this.state.tools.map(item=>item.num))\r\n        const num = MaxNum + 1;\r\n        const newArr = [];\r\n        newArr['toolname'] = this.state.updateEdit[0];\r\n\r\n        this.setState({\r\n          tools : [...this.state.tools, newArr],\r\n          num :\"\" , toolname:\"\"\r\n        })\r\n\r\n        axios.post(`http://${process.env.REACT_APP_API_URL}/tools/add`, //DB연동\r\n        {num: MaxNum+1, toolname: this.state.toolname}).then((response)=>{\r\n        console.log(response);\r\n        });\r\n        window.location.reload();\r\n      }\r\n    }\r\n\r\n    //DELETE 하기 \r\n    onDelete = (num) => {\r\n      if (window.confirm(\"정말 삭제하시겠습니까??\") == true){    //확인\r\n        const tempProduct = this.state.tools.filter(item=> item.num !== num);\r\n      this.setState({\r\n        members : tempProduct,\r\n        num :\"\" , toolname:\"\",\r\n      })\r\n      axios.post(`http://${process.env.REACT_APP_API_URL}/tools/delete`, //DB연동\r\n        {num: num}).then((response)=>{\r\n        console.log(response);\r\n        });\r\n        window.location.reload();\r\n      }else{   //취소\r\n        return;\r\n      }\r\n    }\r\n    componentDidMount(){\r\n      this.findAllTools();\r\n    }\r\n\r\n    findAllTools(){\r\n        axios.get(`http://${process.env.REACT_APP_API_URL}/tools`)\r\n        .then(res=>res.data)\r\n        .then((data)=>{\r\n          this.setState({tools:data});\r\n        });\r\n    }\r\n\r\n    render(){\r\n        return(\r\n        <Row>\r\n          <Col>\r\n            <Widget\r\n              title={<p style={{ fontWeight: 700 }}>도구 관리</p>}\r\n              // customDropDown\r\n            >\r\n            \r\n            <Table responsive>\r\n                <thead>\r\n                  <tr className=\"fs-sm\">\r\n                    <th>NO<br /><br /></th>\r\n                    <th>도구명<br /><br /><Input type=\"text\" value={this.state.toolname} onChange={(e) => {this.state.updateValue(e,\"toolname\")}}/></th>\r\n                    <th>Action<br /><br /><Button size=\"sm\" onClick={()=>{this.state.onSave(this.state.num)}}>{this.state.num ? \"변경\" : \"추가\"}</Button></th>\r\n                  </tr>\r\n                </thead>\r\n                <tbody>  \r\n                  {this.state.tools ? this.state.tools.map(c => {\r\n                    return( \r\n                      <tr key={c.num}> \r\n                        <td style={{ width: \"50px\", textAlign: \"center\"}}>{c.num}</td>\r\n                        <td>{c.toolname}</td> \r\n                        <td style={{ width: \"20px\"}}>\r\n                          <Button color={\"warning\"} className=\"UpdateBtn\" size=\"sm\" variant=\"primary\" onClick={()=>{this.state.onEdit(c.num)}}>수정</Button>&nbsp;&nbsp;\r\n                          <Button color={\"default\"} className=\"UpdateBtn\" size=\"sm\" variant=\"danger\"onClick={()=>{this.state.onDelete(c.num)}}>삭제</Button></td>\r\n                      </tr>\r\n                    );\r\n                  })  :\"\"}\r\n            </tbody>\r\n            </Table>\r\n             </Widget>\r\n          </Col>\r\n          </Row>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Tool;"]},"metadata":{},"sourceType":"module"}