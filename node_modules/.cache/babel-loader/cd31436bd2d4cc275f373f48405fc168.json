{"ast":null,"code":"import _toConsumableArray from \"C:\\\\Users\\\\suresoft\\\\Desktop\\\\vomproject\\\\sure-frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/toConsumableArray\";\nimport _objectSpread from \"C:\\\\Users\\\\suresoft\\\\Desktop\\\\vomproject\\\\sure-frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";\nimport _slicedToArray from \"C:\\\\Users\\\\suresoft\\\\Desktop\\\\vomproject\\\\sure-frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"C:\\\\Users\\\\suresoft\\\\Desktop\\\\vomproject\\\\sure-frontend\\\\src\\\\pages\\\\charts\\\\HighCharts.js\";\n\nimport React, { useState, useEffect, useCallback } from 'react';\nimport { Table, Button, Input, Modal, ModalHeader, ModalBody, ModalFooter } from \"reactstrap\";\nimport Highcharts from 'highcharts';\nimport HighchartsReact from 'highcharts-react-official';\nimport exporting from 'highcharts/modules/exporting';\nimport exportData from 'highcharts/modules/export-data';\nimport accessibility from 'highcharts/modules/accessibility';\nimport highchartsGantt from \"highcharts/modules/gantt\";\nimport { useCookies } from 'react-cookie';\nimport Widget from '../../components/Widget/Widget';\nimport axios from 'axios';\nimport uuid from \"uuid/v4\";\nimport { toast } from \"react-toastify\";\nimport \"react-toastify/dist/ReactToastify.css\";\nimport e from 'cors';\nimport moment from 'moment';\nexporting(Highcharts);\nexportData(Highcharts);\naccessibility(Highcharts);\nhighchartsGantt(Highcharts);\n\nvar getRandomColor = function getRandomColor() {\n  var letters = '0123456789ABCDEF';\n  var color = '#';\n\n  for (var i = 0; i < 6; i++) {\n    color += letters[Math.floor(Math.random() * 16)];\n  }\n\n  return color;\n};\n\nvar HighChartsPage = function HighChartsPage(props) {\n  var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      rawResources = _useState2[0],\n      setRawResources = _useState2[1];\n\n  var _useState3 = useState([]),\n      _useState4 = _slicedToArray(_useState3, 2),\n      rawSub = _useState4[0],\n      setRawSub = _useState4[1];\n\n  var _useState5 = useState([]),\n      _useState6 = _slicedToArray(_useState5, 2),\n      rawEvents = _useState6[0],\n      setRawEvents = _useState6[1];\n\n  var _useCookies = useCookies(['token']),\n      _useCookies2 = _slicedToArray(_useCookies, 2),\n      cookies = _useCookies2[0],\n      removeCookie = _useCookies2[1];\n\n  var _useState7 = useState([]),\n      _useState8 = _slicedToArray(_useState7, 2),\n      data = _useState8[0],\n      setData = _useState8[1];\n\n  var _useState9 = useState(false),\n      _useState10 = _slicedToArray(_useState9, 2),\n      isOpen = _useState10[0],\n      setIsOpen = _useState10[1];\n\n  var _useState11 = useState(\"\"),\n      _useState12 = _slicedToArray(_useState11, 2),\n      modalMenu = _useState12[0],\n      setModalMenu = _useState12[1]; // 구분 추가 시 사용\n\n\n  var _useState13 = useState({\n    name: \"\",\n    color: getRandomColor(),\n    year: props.match.params.year,\n    projectId: props.match.params.id\n  }),\n      _useState14 = _slicedToArray(_useState13, 2),\n      newResource = _useState14[0],\n      setNewResource = _useState14[1]; // 작업 추가 시 사용\n\n\n  var _useState15 = useState(\"\"),\n      _useState16 = _slicedToArray(_useState15, 2),\n      resourceYOfNewSub = _useState16[0],\n      setResourceYOfNewSub = _useState16[1];\n\n  var _useState17 = useState({\n    name: \"\",\n    담당자: \"\",\n    resourceId: \"\"\n  }),\n      _useState18 = _slicedToArray(_useState17, 2),\n      newSub = _useState18[0],\n      setNewSub = _useState18[1];\n\n  var _useState19 = useState(\"\"),\n      _useState20 = _slicedToArray(_useState19, 2),\n      newSubEname = _useState20[0],\n      setNewSubEname = _useState20[1]; // 이벤트 추가 시 사용\n\n\n  var _useState21 = useState(\"\"),\n      _useState22 = _slicedToArray(_useState21, 2),\n      resourceYOfNewEvent = _useState22[0],\n      setResourceYOfNewEvent = _useState22[1];\n\n  var _useState23 = useState(\"\"),\n      _useState24 = _slicedToArray(_useState23, 2),\n      subYOfNewEvent = _useState24[0],\n      setSubYOfNewEvent = _useState24[1];\n\n  var subName = \"\"; // 이벤트 추가 시, 구분에 따른 작업을 select 옵션으로 보여줄 건데, 이 때 작업이 중복되지 않기 위해 사용하는 변수\n\n  var _useState25 = useState(\"\"),\n      _useState26 = _slicedToArray(_useState25, 2),\n      newEventStartDate = _useState26[0],\n      setNewEventStartDate = _useState26[1];\n\n  var _useState27 = useState(\"\"),\n      _useState28 = _slicedToArray(_useState27, 2),\n      newEventEndDate = _useState28[0],\n      setNewEventEndDate = _useState28[1]; // 토스트 옵션 (고정값이므로 state로 관리 X)\n\n\n  var toastOptions = {\n    position: \"top-center\",\n    autoClose: 1000,\n    closeOnClick: false,\n    pauseOnHover: false,\n    draggable: true\n  }; // 전체 데이터 로드\n\n  var findAllInfo = function findAllInfo() {\n    axios.defaults.headers.common['Authorization'] = cookies.token;\n    axios.all([axios.get(\"http://\".concat(process.env.REACT_APP_API_URL, \"/wbs/resources?id=\").concat(props.match.params.id, \"&year=\").concat(props.match.params.year)), axios.get(\"http://\".concat(process.env.REACT_APP_API_URL, \"/wbs/sub\")), axios.get(\"http://\".concat(process.env.REACT_APP_API_URL, \"/wbs/events\"))]).then(axios.spread(function (res1, res2, res3) {\n      setRawResources(res1.data.sort(function (a, b) {\n        return a.id - b.id;\n      }));\n      setRawSub(res2.data);\n      setRawEvents(res3.data);\n      parseData(res1.data, res2.data, res3.data);\n    })).catch(function (err) {\n      if (cookies.token) {\n        removeCookie('token');\n      }\n\n      alert(\"세션이 만료되었습니다. 다시 로그인 해주세요\");\n      window.location.href = \"/\";\n    });\n  };\n\n  var parseData = function parseData(_rawResources, _rawSub, _rawEvents) {\n    var data = [];\n    var y_count = 0;\n\n    var _loop = function _loop(i_resource) {\n      data.push({\n        resource: _rawResources[i_resource].name,\n        pointWidth: 0,\n        y: y_count++\n      });\n      resourceId = y_count - 1;\n\n      var sub = _rawSub.filter(function (item) {\n        return _rawResources[i_resource].id === item.resourceId;\n      });\n\n      var _loop2 = function _loop2(i_sub) {\n        var events = _rawEvents.filter(function (item) {\n          return sub[i_sub].id === item.subId;\n        });\n\n        if (events.length === 0) {\n          data.push({\n            resourceId: resourceId,\n            name: sub[i_sub].name,\n            담당자: sub[i_sub].담당자,\n            color: _rawResources[i_resource].color,\n            y: y_count // pointWidth: 0\n\n          });\n        } else {\n          for (var i_event = 0; i_event < events.length; i_event++) {\n            data.push({\n              resourceId: resourceId,\n              name: sub[i_sub].name,\n              start: Date.UTC(events[i_event].start.split('-')[0], events[i_event].start.split('-')[1] - 1, events[i_event].start.split('-')[2]),\n              end: Date.UTC(events[i_event].end.split('-')[0], events[i_event].end.split('-')[1] - 1, events[i_event].end.split('-')[2]),\n              담당자: sub[i_sub].담당자,\n              color: _rawResources[i_resource].color,\n              y: y_count\n            });\n          }\n        }\n\n        y_count++;\n      };\n\n      for (var i_sub = 0; i_sub < sub.length; i_sub++) {\n        _loop2(i_sub);\n      }\n    };\n\n    for (var i_resource = 0; i_resource < _rawResources.length; i_resource++) {\n      var resourceId;\n\n      _loop(i_resource);\n    }\n\n    console.log(\"데이터\", data);\n    setData(data);\n  };\n\n  var onClickAdd = function onClickAdd() {\n    if (modalMenu === \"resource\") {\n      if (!newResource.name) {\n        toast.error( /*#__PURE__*/React.createElement(\"div\", {\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 151,\n            columnNumber: 21\n          }\n        }, \"\\uAC12\\uC744 \\uC785\\uB825\\uD574\\uC8FC\\uC138\\uC694\"), _objectSpread({}, toastOptions));\n        return;\n      }\n\n      addResource();\n    } else if (modalMenu === \"sub\") {\n      if (!newSub.name || !newSub.담당자 || !newSub.resourceId) {\n        toast.error( /*#__PURE__*/React.createElement(\"div\", {\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 157,\n            columnNumber: 21\n          }\n        }, \"\\uAC12\\uC744 \\uBAA8\\uB450 \\uC785\\uB825\\uD574\\uC8FC\\uC138\\uC694\"), _objectSpread({}, toastOptions));\n        return;\n      }\n\n      addSub();\n    } else {\n      if (!subYOfNewEvent || !newEventStartDate || !newEventEndDate) {\n        toast.error( /*#__PURE__*/React.createElement(\"div\", {\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 163,\n            columnNumber: 21\n          }\n        }, \"\\uAC12\\uC744 \\uBAA8\\uB450 \\uC785\\uB825\\uD574\\uC8FC\\uC138\\uC694\"), _objectSpread({}, toastOptions));\n        return;\n      }\n\n      addEvent(subYOfNewEvent);\n    }\n\n    setIsOpen(!isOpen);\n  }; // 구분 추가\n\n\n  var addResource = function addResource() {\n    axios.post(\"http://\".concat(process.env.REACT_APP_API_URL, \"/wbs/resources/add\"), {\n      newResource: newResource\n    }).then(function (res) {\n      console.log(res);\n    }).catch(function (err) {\n      if (cookies.token) {\n        removeCookie('token');\n      }\n\n      alert(\"세션이 만료되었습니다. 다시 로그인 해주세요\");\n      window.location.href = \"/\";\n    });\n    window.location.reload();\n  }; // 작업 추가\n\n\n  var addSub = function addSub() {\n    // const addSub = (resourceYOfNewSub) => {\n    // let newSubData = {\n    //   resourceId: Number(resourceYOfNewSub),\n    //   name: newSub,\n    //   담당자: newSubEname,\n    //   color: \"#000000\",\n    //   // pointWidth: 0,\n    //   y: 0\n    // };\n    // var resourceIndex = data.findIndex(function(d) { return d.y === Number(resourceYOfNewSub) });\n    // var nextResourceIndex = data.slice(resourceIndex+1).findIndex(function(d) { return d.resource !== undefined });\n    // if(nextResourceIndex !== -1) { // 마지막 구분이 아닐 때\n    //   var targetIndex = nextResourceIndex + resourceIndex + 1; //  추가할 곳\n    //   newSubData.y = data[targetIndex].y;\n    //   data.splice(targetIndex, 0, newSubData);\n    //   data.slice(targetIndex+1).map(d => {\n    //     d.y += 1;\n    //     if(d.resource === undefined) {\n    //       d.resourceId += 1;\n    //     }\n    //   });\n    // } else { // 마지막 구분일 때\n    //   newSubData.y = data[data.length-1].y+1;\n    //   data.push(newSubData);\n    // }\n    // setData(data);\n    // setResourceYOfNewSub(\"\");\n    // setNewSub(\"\");\n    // setNewSubEname(\"\");\n    axios.post(\"http://\".concat(process.env.REACT_APP_API_URL, \"/wbs/sub/add\"), {\n      newSub: newSub\n    }).then(function (res) {\n      console.log(res);\n    }).catch(function (err) {\n      if (cookies.token) {\n        removeCookie('token');\n      }\n\n      alert(\"세션이 만료되었습니다. 다시 로그인 해주세요\");\n      window.location.href = \"/\";\n    });\n    window.location.reload();\n  }; // 이벤트 추가\n\n\n  var addEvent = function addEvent(subYOfNewEvent) {\n    var subData = data[data.findIndex(function (d) {\n      return d.y === Number(subYOfNewEvent);\n    })];\n    var newEventData = {\n      resourceId: subData.resourceId,\n      name: subData.name,\n      start: Date.UTC(newEventStartDate.split('-')[0], newEventStartDate.split('-')[1] - 1, newEventStartDate.split('-')[2]),\n      end: Date.UTC(newEventEndDate.split('-')[0], newEventEndDate.split('-')[1] - 1, newEventEndDate.split('-')[2]),\n      담당자: subData.담당자,\n      color: subData.color,\n      y: subData.y\n    };\n    var targetIndex = (_toConsumableArray(data).reverse().findIndex(function (d) {\n      return d.y === Number(subYOfNewEvent);\n    }) - (data.length - 1)) * -1 + 1;\n    console.log(\"타겟 인덱스: \", targetIndex);\n    data.splice(targetIndex, 0, newEventData);\n    setData(data);\n    setResourceYOfNewEvent(\"\");\n    setSubYOfNewEvent(\"\");\n    setNewEventStartDate(\"\");\n    setNewEventEndDate(\"\");\n    console.log(\"데이터: \", data);\n    axios.post(\"http://\".concat(process.env.REACT_APP_API_URL, \"/wbs/events/add\"), {\n      start: Date.UTC(newEventStartDate.split('-')[0], newEventStartDate.split('-')[1] - 1, newEventStartDate.split('-')[2]),\n      end: Date.UTC(newEventEndDate.split('-')[0], newEventEndDate.split('-')[1] - 1, newEventEndDate.split('-')[2]),\n      resourceId: subData.resourceId,\n      subId: subData.y\n    }).then(function (res) {\n      console.log(res);\n    }).catch(function (err) {\n      if (cookies.token) {\n        removeCookie('token');\n      }\n\n      alert(\"세션이 만료되었습니다. 다시 로그인 해주세요\");\n      window.location.href = \"/\";\n    });\n  };\n\n  useEffect(function () {\n    return findAllInfo();\n  }, []);\n  var options = {\n    chart: {\n      events: {\n        click: function click(e) {\n          console.log( // Highcharts.dateFormat('%Y-%m-%d %H:%M:%S', e.xAxis[0].value), e.yAxis[0].value\n          this);\n        }\n      },\n      animation: false\n    },\n    title: {\n      text: '프로젝트 명'\n    },\n    yAxis: {\n      labels: {\n        indentation: 100,\n        align: \"center\",\n        overflow: \"allow\",\n        step: 1,\n        style: {\n          fontSize: \"10px\",\n          // 왼쪽 표 글씨 사이즈\n          whiteSpace: \"break-spaces\",\n          textOverflow: \"ellipsis\"\n        }\n      },\n      type: 'category',\n      grid: {\n        cellHeight: 300,\n        columns: [{\n          title: {\n            text: '구분'\n          },\n          labels: {\n            format: '{point.resource}'\n          }\n        }, {\n          title: {\n            text: '작업'\n          },\n          labels: {\n            format: '{point.name}'\n          }\n        }, {\n          title: {\n            text: '담당자'\n          },\n          labels: {\n            format: '{point.담당자}'\n          }\n        }]\n      }\n    },\n    series: [{\n      events: {\n        click: function click(e) {\n          console.log(e);\n        }\n      },\n      data: data\n    }],\n    tooltip: {\n      pointFormat: '<span><strong>{point.name}</strong></span><br/><span>{point.start:%y.%m.%d}~{point.end:%y.%m.%d}</span>'\n    },\n    navigator: {\n      enabled: !isOpen,\n      liveRedraw: true,\n      series: {\n        type: 'gantt',\n        pointPlacement: 0.5,\n        pointPadding: 0.25\n      }\n    },\n    rangeSelector: {\n      //1개월, 3개월, 6개월, 1년 바꿀수 있음\n      enabled: !isOpen,\n      inputDateFormat: '%Y-%m-%d',\n      buttons: [{\n        type: 'month',\n        count: 1,\n        text: '1m',\n        title: '1개월 보기'\n      }, {\n        type: 'month',\n        count: 3,\n        text: '3m',\n        title: '3개월 보기'\n      }, {\n        type: 'month',\n        count: 6,\n        text: '6m',\n        title: '6개월 보기'\n      }, {\n        type: 'ytd',\n        text: 'YTD',\n        title: '연초부터 현재까지'\n      }, {\n        type: 'year',\n        count: 1,\n        text: '1y',\n        title: '1년 보기'\n      }, {\n        type: 'all',\n        text: 'All',\n        title: '전체보기'\n      }]\n    }\n  };\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 394,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    className: \"text-capitalize btn btn-warning\",\n    onClick: function onClick() {\n      setModalMenu(\"resource\");\n      setIsOpen(!isOpen);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 395,\n      columnNumber: 7\n    }\n  }, \"\\uAD6C\\uBD84 \\uCD94\\uAC00\"), /*#__PURE__*/React.createElement(Button, {\n    className: \"text-capitalize btn btn-warning\",\n    onClick: function onClick() {\n      setModalMenu(\"sub\");\n      setIsOpen(!isOpen);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 404,\n      columnNumber: 7\n    }\n  }, \"\\uC791\\uC5C5 \\uCD94\\uAC00\"), /*#__PURE__*/React.createElement(Button, {\n    className: \"text-capitalize btn btn-warning\",\n    onClick: function onClick() {\n      setModalMenu(\"event\");\n      setIsOpen(!isOpen);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 413,\n      columnNumber: 7\n    }\n  }, \"\\uC774\\uBCA4\\uD2B8 \\uCD94\\uAC00\"), /*#__PURE__*/React.createElement(Widget, {\n    title: /*#__PURE__*/React.createElement(\"p\", {\n      style: {\n        fontSize: 30,\n        fontWeight: 700\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 423,\n        columnNumber: 22\n      }\n    }, \"WBS\"),\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 423,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(HighchartsReact, {\n    highcharts: Highcharts,\n    constructorType: \"ganttChart\",\n    options: options,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 424,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(Modal, {\n    isOpen: isOpen,\n    toggle: function toggle() {\n      return setIsOpen(!isOpen);\n    },\n    id: \"news-close-modal\",\n    className: \"modal-content\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 430,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(ModalHeader, {\n    toggle: function toggle() {\n      return setIsOpen(!isOpen);\n    },\n    id: \"news-close-modal-label\",\n    className: \"modal-header\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 431,\n      columnNumber: 9\n    }\n  }, \"\\uCD94\\uAC00\"), /*#__PURE__*/React.createElement(ModalBody, {\n    className: \"bg-white modal-body\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 435,\n      columnNumber: 9\n    }\n  }, modalMenu === \"resource\" ?\n  /*#__PURE__*/\n  // 구분 추가\n  React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Input, {\n    type: \"text\",\n    maxLength: \"20\",\n    style: {\n      width: 100 + '%'\n    },\n    value: newResource.name,\n    placeholder: \"\\uCD94\\uAC00\\uD560 \\uAD6C\\uBD84\\uC744 \\uC785\\uB825\\uD574\\uC8FC\\uC138\\uC694.\",\n    onChange: function onChange(e) {\n      return setNewResource(_objectSpread(_objectSpread({}, newResource), {}, {\n        name: e.target.value\n      }));\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 438,\n      columnNumber: 15\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 440,\n      columnNumber: 15\n    }\n  }), /*#__PURE__*/React.createElement(\"strong\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 441,\n      columnNumber: 17\n    }\n  }, \"\\uC0C9\\uC0C1\"), /*#__PURE__*/React.createElement(\"br\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 441,\n      columnNumber: 36\n    }\n  }), /*#__PURE__*/React.createElement(Input, {\n    type: \"color\",\n    value: newResource.color,\n    onChange: function onChange(e) {\n      return setNewResource(_objectSpread(_objectSpread({}, newResource), {}, {\n        color: e.target.value\n      }));\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 442,\n      columnNumber: 17\n    }\n  })) : modalMenu === \"sub\" ?\n  /*#__PURE__*/\n  // 작업 추가\n  React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"strong\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 446,\n      columnNumber: 17\n    }\n  }, \"\\uAD6C\\uBD84\"), /*#__PURE__*/React.createElement(\"br\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 446,\n      columnNumber: 36\n    }\n  }), /*#__PURE__*/React.createElement(\"select\", {\n    className: \"form-control\",\n    value: newSub.resourceId,\n    onChange: function onChange(e) {\n      return setNewSub(_objectSpread(_objectSpread({}, newSub), {}, {\n        resourceId: e.target.value\n      }));\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 447,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"option\", {\n    value: \"\",\n    disabled: true,\n    hidden: true,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 448,\n      columnNumber: 19\n    }\n  }), rawResources.map(function (resource, index) {\n    return /*#__PURE__*/React.createElement(\"option\", {\n      key: index,\n      value: resource.id,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 450,\n        columnNumber: 28\n      }\n    }, resource.name);\n  })), /*#__PURE__*/React.createElement(\"br\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 453,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"strong\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 454,\n      columnNumber: 17\n    }\n  }, \"\\uC791\\uC5C5\"), /*#__PURE__*/React.createElement(\"br\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 454,\n      columnNumber: 36\n    }\n  }), /*#__PURE__*/React.createElement(Input, {\n    type: \"text\",\n    maxLength: \"20\",\n    style: {\n      width: 100 + '%'\n    },\n    value: newSub.name,\n    onChange: function onChange(e) {\n      return setNewSub(_objectSpread(_objectSpread({}, newSub), {}, {\n        name: e.target.value\n      }));\n    },\n    placeholder: \"\\uCD94\\uAC00\\uD560 \\uC791\\uC5C5\\uC744 \\uC785\\uB825\\uD574\\uC8FC\\uC138\\uC694.\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 455,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 456,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"strong\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 457,\n      columnNumber: 17\n    }\n  }, \"\\uB2F4\\uB2F9\\uC790\"), /*#__PURE__*/React.createElement(\"br\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 457,\n      columnNumber: 37\n    }\n  }), /*#__PURE__*/React.createElement(Input, {\n    type: \"text\",\n    maxLength: \"20\",\n    style: {\n      width: 100 + '%'\n    },\n    value: newSub.담당자,\n    onChange: function onChange(e) {\n      return setNewSub(_objectSpread(_objectSpread({}, newSub), {}, {\n        담당자: e.target.value\n      }));\n    },\n    placeholder: \"\\uB2F4\\uB2F9\\uC790\\uB97C \\uC785\\uB825\\uD574\\uC8FC\\uC138\\uC694.\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 458,\n      columnNumber: 17\n    }\n  })) :\n  /*#__PURE__*/\n  // 이벤트 추가\n  React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"strong\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 462,\n      columnNumber: 19\n    }\n  }, \"\\uAD6C\\uBD84\"), /*#__PURE__*/React.createElement(\"br\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 462,\n      columnNumber: 38\n    }\n  }), /*#__PURE__*/React.createElement(\"select\", {\n    className: \"form-control\",\n    id: \"resourceYOfNewEvent\",\n    value: resourceYOfNewEvent,\n    onChange: function onChange(e) {\n      return setResourceYOfNewEvent(e.target.value);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 463,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"option\", {\n    value: \"\",\n    disabled: true,\n    hidden: true,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 464,\n      columnNumber: 21\n    }\n  }), data.map(function (d, idx) {\n    if (d.resource !== undefined) {\n      return /*#__PURE__*/React.createElement(\"option\", {\n        key: idx,\n        value: Number(d.y),\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 467,\n          columnNumber: 33\n        }\n      }, d.resource);\n    }\n  })), /*#__PURE__*/React.createElement(\"br\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 471,\n      columnNumber: 19\n    }\n  }), /*#__PURE__*/React.createElement(\"strong\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 473,\n      columnNumber: 19\n    }\n  }, \"\\uC791\\uC5C5\"), /*#__PURE__*/React.createElement(\"br\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 473,\n      columnNumber: 38\n    }\n  }), /*#__PURE__*/React.createElement(\"select\", {\n    className: \"form-control\",\n    id: \"subYOfNewEvent\",\n    value: subYOfNewEvent,\n    onChange: function onChange(e) {\n      return setSubYOfNewEvent(e.target.value);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 474,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"option\", {\n    value: \"\",\n    disabled: true,\n    hidden: true,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 475,\n      columnNumber: 21\n    }\n  }), data.map(function (d, idx) {\n    if (d.resourceId === Number(resourceYOfNewEvent) && d.name !== subName) {\n      subName = d.name;\n      return /*#__PURE__*/React.createElement(\"option\", {\n        key: idx,\n        value: d.y,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 479,\n          columnNumber: 33\n        }\n      }, d.name);\n    }\n  })), /*#__PURE__*/React.createElement(\"br\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 483,\n      columnNumber: 19\n    }\n  }), /*#__PURE__*/React.createElement(\"strong\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 485,\n      columnNumber: 19\n    }\n  }, \"\\uC774\\uBCA4\\uD2B8\"), /*#__PURE__*/React.createElement(\"br\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 485,\n      columnNumber: 39\n    }\n  }), \"\\uC2DC\\uC791 \\uB0A0\\uC9DC\", /*#__PURE__*/React.createElement(Input, {\n    type: \"date\",\n    maxLength: \"20\",\n    value: newEventStartDate,\n    onChange: function onChange(e) {\n      return setNewEventStartDate(moment(e.target.value).format(\"YYYY-MM-DD\"));\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 487,\n      columnNumber: 24\n    }\n  }), \"\\uC885\\uB8CC \\uB0A0\\uC9DC\", /*#__PURE__*/React.createElement(Input, {\n    type: \"date\",\n    maxLength: \"20\",\n    value: newEventEndDate,\n    onChange: function onChange(e) {\n      return setNewEventEndDate(moment(e.target.value).format(\"YYYY-MM-DD\"));\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 488,\n      columnNumber: 24\n    }\n  }))), /*#__PURE__*/React.createElement(ModalFooter, {\n    className: \"modal-footer\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 494,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    className: \"text-capitalize btn btn-warning\",\n    onClick: onClickAdd,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 495,\n      columnNumber: 11\n    }\n  }, \"\\uCD94\\uAC00\"), \" \", /*#__PURE__*/React.createElement(Button, {\n    className: \"text-capitalize btn btn-secondary\",\n    onClick: function onClick() {\n      return setIsOpen(!isOpen);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 500,\n      columnNumber: 11\n    }\n  }, \"\\uCDE8\\uC18C\"))));\n};\n\nexport default HighChartsPage;","map":{"version":3,"sources":["C:/Users/suresoft/Desktop/vomproject/sure-frontend/src/pages/charts/HighCharts.js"],"names":["React","useState","useEffect","useCallback","Table","Button","Input","Modal","ModalHeader","ModalBody","ModalFooter","Highcharts","HighchartsReact","exporting","exportData","accessibility","highchartsGantt","useCookies","Widget","axios","uuid","toast","e","moment","getRandomColor","letters","color","i","Math","floor","random","HighChartsPage","props","rawResources","setRawResources","rawSub","setRawSub","rawEvents","setRawEvents","cookies","removeCookie","data","setData","isOpen","setIsOpen","modalMenu","setModalMenu","name","year","match","params","projectId","id","newResource","setNewResource","resourceYOfNewSub","setResourceYOfNewSub","담당자","resourceId","newSub","setNewSub","newSubEname","setNewSubEname","resourceYOfNewEvent","setResourceYOfNewEvent","subYOfNewEvent","setSubYOfNewEvent","subName","newEventStartDate","setNewEventStartDate","newEventEndDate","setNewEventEndDate","toastOptions","position","autoClose","closeOnClick","pauseOnHover","draggable","findAllInfo","defaults","headers","common","token","all","get","process","env","REACT_APP_API_URL","then","spread","res1","res2","res3","sort","a","b","parseData","catch","err","alert","window","location","href","_rawResources","_rawSub","_rawEvents","y_count","i_resource","push","resource","pointWidth","y","sub","filter","item","i_sub","events","subId","length","i_event","start","Date","UTC","split","end","console","log","onClickAdd","error","addResource","addSub","addEvent","post","res","reload","subData","findIndex","d","Number","newEventData","targetIndex","reverse","splice","options","chart","click","animation","title","text","yAxis","labels","indentation","align","overflow","step","style","fontSize","whiteSpace","textOverflow","type","grid","cellHeight","columns","format","series","tooltip","pointFormat","navigator","enabled","liveRedraw","pointPlacement","pointPadding","rangeSelector","inputDateFormat","buttons","count","fontWeight","width","target","value","map","index","idx","undefined"],"mappings":"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","sourcesContent":["import React, { useState, useEffect, useCallback } from 'react';\r\nimport {\r\n  Table,\r\n  Button,\r\n  Input,\r\n  Modal,\r\n  ModalHeader,\r\n  ModalBody,\r\n  ModalFooter\r\n} from \"reactstrap\";\r\nimport Highcharts from 'highcharts';\r\nimport HighchartsReact from 'highcharts-react-official'\r\nimport exporting from 'highcharts/modules/exporting';\r\nimport exportData from 'highcharts/modules/export-data';\r\nimport accessibility from 'highcharts/modules/accessibility';\r\nimport highchartsGantt from \"highcharts/modules/gantt\";\r\nimport { useCookies } from 'react-cookie';\r\nimport Widget from '../../components/Widget/Widget';\r\nimport axios from 'axios';\r\nimport uuid from \"uuid/v4\";\r\nimport { toast } from \"react-toastify\";\r\nimport \"react-toastify/dist/ReactToastify.css\";\r\nimport e from 'cors';\r\nimport moment from 'moment';\r\n\r\nexporting(Highcharts);\r\nexportData(Highcharts);\r\naccessibility(Highcharts);\r\nhighchartsGantt(Highcharts);\r\n\r\nconst getRandomColor = () => {\r\n  var letters = '0123456789ABCDEF';\r\n  var color = '#';\r\n  for (var i = 0; i < 6; i++) {\r\n    color += letters[Math.floor(Math.random() * 16)];\r\n  }\r\n  return color;\r\n}\r\n\r\nconst HighChartsPage = (props) => {\r\n  const [rawResources, setRawResources] = useState([]);\r\n  const [rawSub, setRawSub] = useState([]);\r\n  const [rawEvents, setRawEvents] = useState([]);\r\n  const [cookies, removeCookie ] = useCookies(['token']);\r\n  const [data, setData] = useState([]);\r\n  const [isOpen, setIsOpen] = useState(false);\r\n  const [modalMenu, setModalMenu] = useState(\"\");\r\n\r\n  // 구분 추가 시 사용\r\n  const [newResource, setNewResource] = useState({\r\n    name: \"\",\r\n    color: getRandomColor(),\r\n    year: props.match.params.year,\r\n    projectId: props.match.params.id\r\n  });\r\n\r\n  // 작업 추가 시 사용\r\n  const [resourceYOfNewSub, setResourceYOfNewSub] = useState(\"\");\r\n  const [newSub, setNewSub] = useState({\r\n    name: \"\",\r\n    담당자: \"\",\r\n    resourceId: \"\",\r\n  });\r\n  const [newSubEname, setNewSubEname] = useState(\"\");\r\n\r\n  // 이벤트 추가 시 사용\r\n  const [resourceYOfNewEvent, setResourceYOfNewEvent] = useState(\"\");\r\n  const [subYOfNewEvent, setSubYOfNewEvent] = useState(\"\");\r\n  let subName = \"\"; // 이벤트 추가 시, 구분에 따른 작업을 select 옵션으로 보여줄 건데, 이 때 작업이 중복되지 않기 위해 사용하는 변수\r\n  const [newEventStartDate, setNewEventStartDate] = useState(\"\");\r\n  const [newEventEndDate, setNewEventEndDate] = useState(\"\");\r\n\r\n  // 토스트 옵션 (고정값이므로 state로 관리 X)\r\n  const toastOptions =  {\r\n    position: \"top-center\",\r\n    autoClose: 1000,\r\n    closeOnClick: false,\r\n    pauseOnHover: false,\r\n    draggable: true,\r\n  };\r\n\r\n  // 전체 데이터 로드\r\n  const findAllInfo = () => {\r\n    axios.defaults.headers.common['Authorization'] = cookies.token;\r\n    axios\r\n    .all([\r\n      axios.get(`http://${process.env.REACT_APP_API_URL}/wbs/resources?id=${props.match.params.id}&year=${props.match.params.year}`),\r\n      axios.get(`http://${process.env.REACT_APP_API_URL}/wbs/sub`),\r\n      axios.get(`http://${process.env.REACT_APP_API_URL}/wbs/events`),\r\n    ])\r\n    .then(axios.spread((res1, res2, res3) => {\r\n      setRawResources(res1.data.sort((a, b) => a.id - b.id));\r\n      setRawSub(res2.data);\r\n      setRawEvents(res3.data);\r\n      parseData(res1.data, res2.data, res3.data);\r\n    }))\r\n    .catch(err => {\r\n      if (cookies.token) {\r\n        removeCookie('token');\r\n      }\r\n      alert(\"세션이 만료되었습니다. 다시 로그인 해주세요\");\r\n      window.location.href = \"/\";\r\n    });\r\n  }\r\n\r\n  const parseData = (_rawResources, _rawSub, _rawEvents) => {\r\n    const data = [];\r\n    let y_count = 0;\r\n    for (let i_resource = 0; i_resource < _rawResources.length; i_resource++) {\r\n      data.push({\r\n        resource: _rawResources[i_resource].name,\r\n        pointWidth: 0,\r\n        y: y_count++\r\n      });\r\n      var resourceId = y_count-1;\r\n      const sub = _rawSub.filter((item) => _rawResources[i_resource].id === item.resourceId);\r\n\r\n      for (let i_sub = 0; i_sub < sub.length; i_sub++) {\r\n        const events = _rawEvents.filter((item) => sub[i_sub].id === item.subId);\r\n        if(events.length === 0) {\r\n          data.push({\r\n            resourceId: resourceId,\r\n            name: sub[i_sub].name,\r\n            담당자: sub[i_sub].담당자,\r\n            color: _rawResources[i_resource].color,\r\n            y: y_count,\r\n            // pointWidth: 0\r\n            })\r\n        } else {\r\n          for (let i_event = 0; i_event < events.length; i_event++) {\r\n            data.push({\r\n              resourceId: resourceId,\r\n              name: sub[i_sub].name,\r\n              start: Date.UTC(events[i_event].start.split('-')[0], events[i_event].start.split('-')[1] - 1, events[i_event].start.split('-')[2]),\r\n              end: Date.UTC(events[i_event].end.split('-')[0], events[i_event].end.split('-')[1] - 1, events[i_event].end.split('-')[2]),\r\n              담당자: sub[i_sub].담당자,\r\n              color: _rawResources[i_resource].color,\r\n              y: y_count})\r\n          }\r\n        }\r\n        y_count++;\r\n      }\r\n    }\r\n    console.log(\"데이터\", data);\r\n    setData(data);\r\n  }\r\n\r\n  const onClickAdd = () => {\r\n    if(modalMenu === \"resource\") {\r\n      if(!newResource.name) {\r\n        toast.error(<div>값을 입력해주세요</div>, { ...toastOptions});\r\n        return;\r\n      }\r\n      addResource();\r\n    } else if(modalMenu === \"sub\"){\r\n      if(!newSub.name || !newSub.담당자 || !newSub.resourceId) {\r\n        toast.error(<div>값을 모두 입력해주세요</div>, { ...toastOptions});\r\n        return;\r\n      }\r\n      addSub();\r\n    } else {\r\n      if(!subYOfNewEvent || !newEventStartDate || !newEventEndDate) {\r\n        toast.error(<div>값을 모두 입력해주세요</div>, { ...toastOptions});\r\n        return;\r\n      }\r\n      addEvent(subYOfNewEvent);\r\n    }\r\n    setIsOpen(!isOpen);\r\n  }\r\n\r\n  // 구분 추가\r\n  const addResource = () => {\r\n    axios.post(`http://${process.env.REACT_APP_API_URL}/wbs/resources/add`, {newResource})\r\n    .then(res => {\r\n      console.log(res);\r\n    })\r\n    .catch(err => {\r\n      if (cookies.token) {\r\n        removeCookie('token');\r\n      }\r\n      alert(\"세션이 만료되었습니다. 다시 로그인 해주세요\");\r\n      window.location.href = \"/\";\r\n    });\r\n    window.location.reload();\r\n  }\r\n\r\n  // 작업 추가\r\n  const addSub = () => {\r\n  // const addSub = (resourceYOfNewSub) => {\r\n    // let newSubData = {\r\n    //   resourceId: Number(resourceYOfNewSub),\r\n    //   name: newSub,\r\n    //   담당자: newSubEname,\r\n    //   color: \"#000000\",\r\n    //   // pointWidth: 0,\r\n    //   y: 0\r\n    // };\r\n\r\n    // var resourceIndex = data.findIndex(function(d) { return d.y === Number(resourceYOfNewSub) });\r\n    // var nextResourceIndex = data.slice(resourceIndex+1).findIndex(function(d) { return d.resource !== undefined });\r\n\r\n    // if(nextResourceIndex !== -1) { // 마지막 구분이 아닐 때\r\n    //   var targetIndex = nextResourceIndex + resourceIndex + 1; //  추가할 곳\r\n      \r\n    //   newSubData.y = data[targetIndex].y;\r\n\r\n    //   data.splice(targetIndex, 0, newSubData);\r\n    //   data.slice(targetIndex+1).map(d => {\r\n    //     d.y += 1;\r\n    //     if(d.resource === undefined) {\r\n    //       d.resourceId += 1;\r\n    //     }\r\n    //   });\r\n      \r\n    // } else { // 마지막 구분일 때\r\n    //   newSubData.y = data[data.length-1].y+1;\r\n    //   data.push(newSubData);\r\n    // }\r\n\r\n    // setData(data);\r\n    // setResourceYOfNewSub(\"\");\r\n    // setNewSub(\"\");\r\n    // setNewSubEname(\"\");\r\n    axios.post(`http://${process.env.REACT_APP_API_URL}/wbs/sub/add`, {newSub})\r\n    .then(res => {\r\n      console.log(res);\r\n    })\r\n    .catch(err => {\r\n      if (cookies.token) {\r\n        removeCookie('token');\r\n      }\r\n      alert(\"세션이 만료되었습니다. 다시 로그인 해주세요\");\r\n      window.location.href = \"/\";\r\n    });\r\n    window.location.reload();\r\n  }\r\n\r\n  // 이벤트 추가\r\n  const addEvent = (subYOfNewEvent) => {\r\n    var subData = data[data.findIndex(function(d) { return d.y === Number(subYOfNewEvent) })];\r\n\r\n    let newEventData = {\r\n      resourceId: subData.resourceId,\r\n      name: subData.name,\r\n      start: Date.UTC(newEventStartDate.split('-')[0], newEventStartDate.split('-')[1] - 1, newEventStartDate.split('-')[2]),\r\n      end: Date.UTC(newEventEndDate.split('-')[0], newEventEndDate.split('-')[1] - 1, newEventEndDate.split('-')[2]),\r\n      담당자: subData.담당자,\r\n      color: subData.color,\r\n      y: subData.y\r\n    };\r\n\r\n    var targetIndex = (([...data].reverse().findIndex(function(d) { return d.y === Number(subYOfNewEvent) }) - (data.length-1)) * -1) + 1;\r\n    console.log(\"타겟 인덱스: \",targetIndex);\r\n\r\n    data.splice(targetIndex, 0, newEventData);\r\n\r\n    setData(data);\r\n    setResourceYOfNewEvent(\"\");\r\n    setSubYOfNewEvent(\"\");\r\n    setNewEventStartDate(\"\");\r\n    setNewEventEndDate(\"\");\r\n\r\n    console.log(\"데이터: \", data);\r\n    axios.post(`http://${process.env.REACT_APP_API_URL}/wbs/events/add`, {\r\n      start: Date.UTC(newEventStartDate.split('-')[0], newEventStartDate.split('-')[1] - 1, newEventStartDate.split('-')[2]),\r\n      end: Date.UTC(newEventEndDate.split('-')[0], newEventEndDate.split('-')[1] - 1, newEventEndDate.split('-')[2]),\r\n      resourceId: subData.resourceId,\r\n      subId: subData.y,\r\n    })\r\n    .then(res => {\r\n      console.log(res);\r\n    })\r\n    .catch(err => {\r\n      if (cookies.token) {\r\n        removeCookie('token');\r\n      }\r\n      alert(\"세션이 만료되었습니다. 다시 로그인 해주세요\");\r\n      window.location.href = \"/\";\r\n    });\r\n  }\r\n\r\n  useEffect(() => findAllInfo(), []);\r\n\r\n  const options = {\r\n    chart: {\r\n      events: {\r\n        click: function(e) {\r\n          console.log(\r\n              // Highcharts.dateFormat('%Y-%m-%d %H:%M:%S', e.xAxis[0].value), e.yAxis[0].value\r\n              this\r\n          )\r\n        }\r\n      },\r\n      animation: false\r\n    },\r\n    title: {\r\n      text: '프로젝트 명'\r\n    },\r\n    yAxis: {\r\n      labels: {\r\n        indentation: 100,\r\n        align: \"center\",\r\n        overflow: \"allow\",\r\n        step: 1,\r\n        style: {\r\n          fontSize: \"10px\", // 왼쪽 표 글씨 사이즈\r\n          whiteSpace: \"break-spaces\",\r\n          textOverflow: \"ellipsis\"\r\n        }\r\n      },\r\n      type: 'category',\r\n      grid: {\r\n        cellHeight: 300,\r\n        columns: [{\r\n          title: {\r\n            text: '구분',\r\n          },\r\n          labels: {\r\n            format: '{point.resource}'\r\n          }\r\n        }, {\r\n          title: {\r\n            text: '작업',\r\n          },\r\n          labels: {\r\n            format: '{point.name}'\r\n          }\r\n        }, {\r\n          title: {\r\n            text: '담당자',\r\n          },\r\n          labels: {\r\n            format: '{point.담당자}'\r\n          }\r\n        }]\r\n      }\r\n    },\r\n    series: [{\r\n      events: {\r\n        click: function(e) {\r\n          console.log(e);\r\n        }\r\n      },\r\n      data: data,\r\n    }],\r\n    tooltip: {\r\n      pointFormat: '<span><strong>{point.name}</strong></span><br/><span>{point.start:%y.%m.%d}~{point.end:%y.%m.%d}</span>'\r\n    },\r\n    navigator: {\r\n      enabled: !isOpen,\r\n      liveRedraw: true,\r\n      series: {\r\n        type: 'gantt',\r\n        pointPlacement: 0.5,\r\n        pointPadding: 0.25\r\n      },\r\n    },\r\n    rangeSelector: { //1개월, 3개월, 6개월, 1년 바꿀수 있음\r\n      enabled: !isOpen,\r\n      inputDateFormat: '%Y-%m-%d',\r\n      buttons: [{\r\n        type: 'month',\r\n        count: 1,\r\n        text: '1m',\r\n        title: '1개월 보기'\r\n      }, {\r\n        type: 'month',\r\n        count: 3,\r\n        text: '3m',\r\n        title: '3개월 보기'\r\n      }, {\r\n        type: 'month',\r\n        count: 6,\r\n        text: '6m',\r\n        title: '6개월 보기'\r\n      }, {\r\n        type: 'ytd',\r\n        text: 'YTD',\r\n        title: '연초부터 현재까지'\r\n      }, {\r\n        type: 'year',\r\n        count: 1,\r\n        text: '1y',\r\n        title: '1년 보기'\r\n      }, {\r\n        type: 'all',\r\n        text: 'All',\r\n        title: '전체보기'\r\n      }]\r\n    },\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <Button\r\n        className=\"text-capitalize btn btn-warning\" \r\n        onClick={() => {\r\n          setModalMenu(\"resource\");\r\n          setIsOpen(!isOpen);\r\n        }}\r\n      >\r\n        구분 추가\r\n      </Button>\r\n      <Button \r\n        className=\"text-capitalize btn btn-warning\" \r\n        onClick={() => {\r\n          setModalMenu(\"sub\");\r\n          setIsOpen(!isOpen);\r\n        }}\r\n      >\r\n        작업 추가\r\n      </Button>\r\n      <Button \r\n        className=\"text-capitalize btn btn-warning\" \r\n        onClick={() => {\r\n          setModalMenu(\"event\");\r\n          setIsOpen(!isOpen);\r\n        }}\r\n      >\r\n        이벤트 추가\r\n      </Button>\r\n\r\n      <Widget title={<p style={{ fontSize:30, fontWeight: 700 }}>WBS</p>}>\r\n          <HighchartsReact\r\n          highcharts={Highcharts}\r\n          constructorType={\"ganttChart\"}\r\n          options={options}/>\r\n      </Widget>\r\n\r\n      <Modal isOpen={isOpen} toggle={() => setIsOpen(!isOpen)} id=\"news-close-modal\" className=\"modal-content\">\r\n        <ModalHeader toggle={() => setIsOpen(!isOpen)} id=\"news-close-modal-label\" className=\"modal-header\">\r\n           추가\r\n        </ModalHeader>\r\n        \r\n        <ModalBody className=\"bg-white modal-body\">\r\n          {modalMenu === \"resource\" ? // 구분 추가\r\n            <>\r\n              <Input type='text' maxLength='20' style={{width: 100+'%'}} value={newResource.name} placeholder='추가할 구분을 입력해주세요.'\r\n                onChange={(e) => setNewResource({...newResource, name: e.target.value})}/>\r\n              <br />\r\n                <strong>색상</strong><br />\r\n                <Input type='color' value={newResource.color} onChange={(e) => setNewResource({...newResource, color: e.target.value})}/>\r\n            </>\r\n            : modalMenu === \"sub\" ? // 작업 추가\r\n              <>\r\n                <strong>구분</strong><br />\r\n                <select className=\"form-control\" value={newSub.resourceId} onChange={(e) => setNewSub({...newSub, resourceId: e.target.value})}>\r\n                  <option value=\"\" disabled hidden></option>\r\n                  {rawResources.map((resource, index) => {\r\n                    return <option key={index} value={resource.id}>{resource.name}</option>\r\n                  })}\r\n                </select>\r\n                <br />\r\n                <strong>작업</strong><br />\r\n                <Input type='text' maxLength='20' style={{width: 100+'%'}} value={newSub.name} onChange={(e) => setNewSub({...newSub, name: e.target.value})} placeholder='추가할 작업을 입력해주세요.'/>\r\n                <br />\r\n                <strong>담당자</strong><br />\r\n                <Input type='text' maxLength='20' style={{width: 100+'%'}} value={newSub.담당자} onChange={(e) => setNewSub({...newSub, 담당자: e.target.value})} placeholder='담당자를 입력해주세요.'/>\r\n              </>\r\n              : // 이벤트 추가\r\n                <>\r\n                  <strong>구분</strong><br />\r\n                  <select className=\"form-control\" id=\"resourceYOfNewEvent\" value={resourceYOfNewEvent} onChange={(e) => setResourceYOfNewEvent(e.target.value)}>\r\n                    <option value=\"\" disabled hidden></option>\r\n                    {data.map((d, idx) =>{\r\n                      if(d.resource !== undefined) {\r\n                        return (<option key={idx} value={Number(d.y)}>{d.resource}</option>);\r\n                      }\r\n                    })}\r\n                  </select>\r\n                  <br />\r\n                  \r\n                  <strong>작업</strong><br />\r\n                  <select className=\"form-control\" id=\"subYOfNewEvent\" value={subYOfNewEvent} onChange={(e) => setSubYOfNewEvent(e.target.value)}>\r\n                    <option value=\"\" disabled hidden></option>\r\n                    {data.map((d, idx) => {\r\n                      if(d.resourceId === Number(resourceYOfNewEvent) && d.name !== subName) {\r\n                        subName = d.name;\r\n                        return (<option key={idx} value={d.y}>{d.name}</option>);\r\n                      }\r\n                    })}\r\n                  </select>\r\n                  <br />\r\n\r\n                  <strong>이벤트</strong><br />\r\n                  \r\n                  시작 날짜<Input type='date' maxLength='20' value={newEventStartDate} onChange={(e) => setNewEventStartDate(moment(e.target.value).format(\"YYYY-MM-DD\"))}/>\r\n                  종료 날짜<Input type='date' maxLength='20' value={newEventEndDate} onChange={(e) => setNewEventEndDate(moment(e.target.value).format(\"YYYY-MM-DD\"))}/>\r\n\r\n                </>\r\n          }\r\n        </ModalBody>\r\n\r\n        <ModalFooter className=\"modal-footer\">\r\n          <Button className=\"text-capitalize btn btn-warning\"\r\n            onClick={onClickAdd}\r\n          >\r\n            추가\r\n          </Button>{\" \"}\r\n          <Button className=\"text-capitalize btn btn-secondary\"\r\n            onClick={() => setIsOpen(!isOpen)}\r\n          >\r\n            취소\r\n          </Button>\r\n        </ModalFooter>\r\n      </Modal>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default HighChartsPage;\r\n"]},"metadata":{},"sourceType":"module"}