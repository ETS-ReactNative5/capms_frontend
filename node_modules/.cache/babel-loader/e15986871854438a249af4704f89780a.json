{"ast":null,"code":"var platform = process.env.__TESTING_MKDIRP_PLATFORM__ || process.platform;\n\nvar _require = require('path'),\n    resolve = _require.resolve,\n    parse = _require.parse;\n\nvar pathArg = function pathArg(path) {\n  if (/\\0/.test(path)) {\n    // simulate same failure that node raises\n    throw Object.assign(new TypeError('path must be a string without null bytes'), {\n      path: path,\n      code: 'ERR_INVALID_ARG_VALUE'\n    });\n  }\n\n  path = resolve(path);\n\n  if (platform === 'win32') {\n    var badWinChars = /[*|\"<>?:]/;\n\n    var _parse = parse(path),\n        root = _parse.root;\n\n    if (badWinChars.test(path.substr(root.length))) {\n      throw Object.assign(new Error('Illegal characters in path.'), {\n        path: path,\n        code: 'EINVAL'\n      });\n    }\n  }\n\n  return path;\n};\n\nmodule.exports = pathArg;","map":null,"metadata":{},"sourceType":"script"}