{"ast":null,"code":"import _slicedToArray from \"C:\\\\Users\\\\suresoft\\\\Desktop\\\\vomproject\\\\sure-frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"C:\\\\Users\\\\suresoft\\\\Desktop\\\\vomproject\\\\sure-frontend\\\\src\\\\pages\\\\managerSchedule\\\\ManagerSchedule.js\";\n\nimport moment from \"moment\";\nimport React, { useState, useEffect } from \"react\";\nimport { Col, Row, Table } from \"reactstrap\";\nimport Button from \"reactstrap/lib/Button\";\nimport Widget from \"../../components/Widget/Widget\";\nimport axios from 'axios';\nimport { Link } from \"react-router-dom\";\nimport './ManagerSchedule.scss';\nimport { place } from '../newScheduleWeek/NewScheduleWeek';\nvar managers = ['ymyou', 'wrsong', 'twinrain', 'ysyoun', 'digitallcs', 'kyu698'];\n\nvar Schedule = function Schedule() {\n  var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      schedule = _useState2[0],\n      setSchedule = _useState2[1];\n\n  var _useState3 = useState(new Date()),\n      _useState4 = _slicedToArray(_useState3, 2),\n      today = _useState4[0],\n      setToday = _useState4[1];\n\n  var _useState5 = useState([]),\n      _useState6 = _slicedToArray(_useState5, 2),\n      days = _useState6[0],\n      setDays = _useState6[1];\n\n  var _useState7 = useState([]),\n      _useState8 = _slicedToArray(_useState7, 2),\n      members = _useState8[0],\n      setMembers = _useState8[1];\n\n  useEffect(function () {\n    var days = [];\n\n    var _today = today.getDay();\n\n    for (var i = 1; i < _today; i++) {\n      days.push(moment(new Date(new Date(today).setDate(new Date(today).getDate() - _today + i))).format(\"YYYY-MM-DD\"));\n    }\n\n    for (var _i = 0; _i < 6 - _today; _i++) {\n      days.push(moment(new Date(new Date(today).setDate(new Date(today).getDate() + _i))).format(\"YYYY-MM-DD\"));\n    }\n\n    setDays(days);\n  }, [today]);\n\n  var onClickBefore = function onClickBefore() {\n    setToday(new Date(new Date(today).setDate(today.getDate() - 7)));\n  };\n\n  var onClickNext = function onClickNext() {\n    setToday(new Date(new Date(today).setDate(today.getDate() + 7)));\n  };\n\n  var onClickToday = function onClickToday() {\n    setToday(new Date());\n  };\n\n  useEffect(function () {\n    return findAllInfos();\n  }, []);\n\n  var findAllInfos = function findAllInfos() {\n    axios.all([axios.get(\"http://\".concat(process.env.REACT_APP_API_URL, \"/schedule\")), axios.get(\"http://\".concat(process.env.REACT_APP_API_URL, \"/members\"))]).then(axios.spread(function (res1, res2) {\n      setSchedule(res1.data);\n      setMembers(res2.data);\n    }));\n  };\n\n  var selectClassName = function selectClassName(_place) {\n    var colors = [' #FFDBC1', '#EBC680', '#FFCFDA', '#E2F3F4', '#D9E3F0', '#EEC66A', '#D8F0E5', '#F0E2D8', '#E6D8F0', '#E9E2C5', '#E9C5C5', '#ABC6DE', '#E5C3CA', '#DFDFDF', '#FFFFFF'];\n    return colors[place.indexOf(_place)];\n  };\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Widget, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    to: \"/app/schedule/add/week\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    color: \"success\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 13\n    }\n  }, \"\\uC77C\\uC8FC\\uC77C\\uCD94\\uAC00\")), /*#__PURE__*/React.createElement(Button, {\n    color: \"success\",\n    onClick: function onClick() {\n      return window.location.reload();\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 11\n    }\n  }, \"\\uC0C8\\uB85C\\uACE0\\uCE68\")), /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      width: 100 + '%',\n      textAlign: 'center',\n      fontWeight: 700,\n      fontSize: 20\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 9\n    }\n  }, days[0], \" ~ \", days[4], /*#__PURE__*/React.createElement(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    color: \"info\",\n    onClick: onClickBefore,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 13\n    }\n  }, '<'), /*#__PURE__*/React.createElement(Button, {\n    color: \"primary\",\n    onClick: onClickToday,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 13\n    }\n  }, \"Today\"), /*#__PURE__*/React.createElement(Button, {\n    color: \"info\",\n    onClick: onClickNext,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 13\n    }\n  }, '>'))), /*#__PURE__*/React.createElement(Table, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"thead\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"tr\", {\n    className: \"manager-schedule__tr\",\n    style: {\n      textAlign: 'center'\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 13\n    }\n  }, days.map(function (day, index) {\n    return /*#__PURE__*/React.createElement(\"th\", {\n      className: \"manager-schedule__th\",\n      key: index,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 17\n      }\n    }, moment(new Date(day)).format(\"ddd MM/DD\"));\n  }))), /*#__PURE__*/React.createElement(\"tbody\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"tr\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 13\n    }\n  }, days.map(function (day, index) {\n    return /*#__PURE__*/React.createElement(\"td\", {\n      className: \"manager-schedule__td\",\n      key: index,\n      style: {\n        height: 30 + 'rem',\n        width: 20 + '%'\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Link, {\n      to: {\n        pathname: \"/app/schedule/add\",\n        state: {\n          date: day\n        }\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        height: 100 + '%'\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 21\n      }\n    }, schedule.filter(function (schedule) {\n      return schedule.날짜 === day;\n    }).sort(function (a, b) {\n      return managers.indexOf(a.이름) - managers.indexOf(b.이름);\n    }).map(function (d, i) {\n      if (d.날짜 === day) {\n        var member = members.find(function (_ref) {\n          var id = _ref.id;\n          return id === d.이름;\n        });\n        return /*#__PURE__*/React.createElement(Link, {\n          to: {\n            pathname: \"schedule/\".concat(d.id)\n          },\n          key: i,\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 101,\n            columnNumber: 25\n          }\n        }, /*#__PURE__*/React.createElement(\"div\", {\n          className: \"manager-schedule__div \" + d.이름,\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 102,\n            columnNumber: 27\n          }\n        }, /*#__PURE__*/React.createElement(\"div\", {\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 103,\n            columnNumber: 29\n          }\n        }, member ? member.name : \"\"), /*#__PURE__*/React.createElement(\"div\", {\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 104,\n            columnNumber: 29\n          }\n        }, \"\\uC624\\uC804 : \", /*#__PURE__*/React.createElement(\"span\", {\n          style: {\n            backgroundColor: selectClassName(d.오전)\n          },\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 104,\n            columnNumber: 39\n          }\n        }, d.오전)), /*#__PURE__*/React.createElement(\"div\", {\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 105,\n            columnNumber: 29\n          }\n        }, \"\\uC624\\uD6C4 : \", /*#__PURE__*/React.createElement(\"span\", {\n          style: {\n            backgroundColor: selectClassName(d.오후)\n          },\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 105,\n            columnNumber: 39\n          }\n        }, d.오후))));\n      }\n    }))));\n  }))))));\n};\n\nexport default Schedule;","map":{"version":3,"sources":["C:/Users/suresoft/Desktop/vomproject/sure-frontend/src/pages/managerSchedule/ManagerSchedule.js"],"names":["moment","React","useState","useEffect","Col","Row","Table","Button","Widget","axios","Link","place","managers","Schedule","schedule","setSchedule","Date","today","setToday","days","setDays","members","setMembers","_today","getDay","i","push","setDate","getDate","format","onClickBefore","onClickNext","onClickToday","findAllInfos","all","get","process","env","REACT_APP_API_URL","then","spread","res1","res2","data","selectClassName","_place","colors","indexOf","window","location","reload","width","textAlign","fontWeight","fontSize","map","day","index","height","pathname","state","date","filter","날짜","sort","a","b","이름","d","member","find","id","name","backgroundColor","오전","오후"],"mappings":"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","sourcesContent":["import moment from \"moment\";\r\nimport React, { useState, useEffect } from \"react\";\r\nimport { Col, Row, Table } from \"reactstrap\";\r\nimport Button from \"reactstrap/lib/Button\";\r\nimport Widget from \"../../components/Widget/Widget\";\r\nimport axios from 'axios';\r\nimport { Link } from \"react-router-dom\";\r\nimport './ManagerSchedule.scss';\r\nimport { place } from '../newScheduleWeek/NewScheduleWeek';\r\n\r\nconst managers = [\r\n  'ymyou', 'wrsong', 'twinrain', 'ysyoun', 'digitallcs', 'kyu698'\r\n]\r\n\r\nconst Schedule = () => {\r\n  const [schedule, setSchedule] = useState([]);\r\n  const [today, setToday] = useState(new Date());\r\n  const [days, setDays] = useState([]);\r\n  const [members, setMembers] = useState([]);\r\n\r\n  useEffect(() => {\r\n    let days = [];\r\n    const _today = today.getDay();\r\n    for (let i = 1; i < _today; i++) {\r\n      days.push(moment(new Date(new Date(today).setDate(new Date(today).getDate() - _today + i))).format(\"YYYY-MM-DD\"));\r\n    }\r\n    for (let i = 0; i < 6 - _today; i++) {\r\n      days.push(moment(new Date(new Date(today).setDate(new Date(today).getDate() + i))).format(\"YYYY-MM-DD\"));\r\n    }\r\n    setDays(days);\r\n  }, [today]);\r\n\r\n  const onClickBefore = () => {\r\n    setToday(new Date(new Date(today).setDate(today.getDate() - 7)));\r\n  };\r\n\r\n  const onClickNext = () => {\r\n    setToday(new Date(new Date(today).setDate(today.getDate() + 7)));\r\n  };\r\n\r\n  const onClickToday = () => {\r\n    setToday(new Date());\r\n  };\r\n\r\n  useEffect(()=> findAllInfos(), []);\r\n\r\n  const findAllInfos = () => {\r\n    axios\r\n    .all([\r\n      axios.get(`http://${process.env.REACT_APP_API_URL}/schedule`),\r\n      axios.get(`http://${process.env.REACT_APP_API_URL}/members`)])\r\n    .then(axios.spread((res1,res2)=>{\r\n      setSchedule(res1.data);\r\n      setMembers(res2.data);\r\n    }))\r\n  }\r\n\r\n  const selectClassName = (_place) => {\r\n    const colors = [' #FFDBC1', '#EBC680', '#FFCFDA', '#E2F3F4', '#D9E3F0', '#EEC66A', '#D8F0E5', '#F0E2D8', '#E6D8F0', '#E9E2C5', '#E9C5C5', '#ABC6DE', '#E5C3CA', '#DFDFDF', '#FFFFFF']\r\n    return (colors[place.indexOf(_place)]);\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <Widget>\r\n        <div>\r\n          <Link to=\"/app/schedule/add/week\">\r\n            <Button color=\"success\">일주일추가</Button>\r\n          </Link>\r\n          <Button color=\"success\" onClick={() => window.location.reload()}>새로고침</Button>\r\n        </div>\r\n        <div style={{width: 100+'%', textAlign: 'center', fontWeight: 700, fontSize: 20}}>\r\n          {days[0]} ~ {days[4]}\r\n          <div>\r\n            <Button color=\"info\" onClick={onClickBefore}>{'<'}</Button>\r\n            <Button color=\"primary\" onClick={onClickToday}>Today</Button>\r\n            <Button color=\"info\" onClick={onClickNext}>{'>'}</Button>\r\n          </div>\r\n        </div>\r\n        <Table>\r\n          <thead>\r\n            <tr className=\"manager-schedule__tr\" style={{textAlign:'center'}}>\r\n              {days.map((day, index) => (\r\n                <th className=\"manager-schedule__th\" key={index}>{moment(new Date(day)).format(\"ddd MM/DD\")}</th>\r\n              ))}\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            <tr>\r\n              {days.map((day, index) => (\r\n                <td className=\"manager-schedule__td\" key={index} style={{height: 30+ 'rem', width:20+ '%'}}>\r\n                  <Link to={{pathname: `/app/schedule/add`, state: {date: day}}}>\r\n                    <div style={{height: 100 + '%'}}>\r\n                  {schedule\r\n                  .filter(schedule => schedule.날짜 === day)\r\n                  .sort((a, b) => managers.indexOf(a.이름) - managers.indexOf(b.이름))\r\n                  .map((d, i) => {\r\n                    if (d.날짜 === day) {\r\n                      const member = members.find(({id}) => id === d.이름);\r\n                      return (\r\n                        <Link to={{pathname: `schedule/${d.id}`}} key={i}>\r\n                          <div className={\"manager-schedule__div \"+ d.이름}>\r\n                            <div>{member ? member.name : \"\"}</div>\r\n                            <div>오전 : <span style={{backgroundColor: selectClassName(d.오전)}}>{d.오전}</span></div>\r\n                            <div>오후 : <span style={{backgroundColor: selectClassName(d.오후)}}>{d.오후}</span></div>\r\n                          </div>\r\n                        </Link>\r\n                      );\r\n                    }\r\n                  }\r\n                  )}\r\n                  </div>\r\n                </Link>\r\n                </td>\r\n              ))}\r\n            </tr>\r\n          </tbody>\r\n        </Table>\r\n      </Widget>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default Schedule;"]},"metadata":{},"sourceType":"module"}