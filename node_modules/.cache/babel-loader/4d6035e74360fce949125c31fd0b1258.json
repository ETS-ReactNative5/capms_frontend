{"ast":null,"code":"import _slicedToArray from \"C:\\\\Users\\\\suresoft\\\\Desktop\\\\vomproject\\\\sure-frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"C:\\\\Users\\\\suresoft\\\\Desktop\\\\vomproject\\\\sure-frontend\\\\src\\\\pages\\\\newSchedule\\\\NewSchedule.js\";\n\nimport React, { useState, useEffect } from 'react';\nimport Widget from '../../components/Widget/Widget';\nimport moment from \"moment\";\nimport Flatpickr from \"react-flatpickr\";\nimport axios from 'axios';\nimport Button from 'reactstrap/lib/Button';\nimport { place } from '../newScheduleWeek/NewScheduleWeek';\nimport { Table } from 'reactstrap';\nimport { useCookies } from 'react-cookie';\n\nvar NewSchedule = function NewSchedule(props) {\n  var _useCookies = useCookies(['token']),\n      _useCookies2 = _slicedToArray(_useCookies, 2),\n      cookies = _useCookies2[0],\n      removeCookie = _useCookies2[1];\n\n  var defaultDate = props.location.state ? moment(new Date(props.location.state.date)).format(\"YYYY-MM-DD\") : moment(new Date()).format('YYYY-MM-DD');\n\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      isEtcAM = _useState2[0],\n      setIsEtcAM = _useState2[1];\n\n  var _useState3 = useState(false),\n      _useState4 = _slicedToArray(_useState3, 2),\n      isEtcPM = _useState4[0],\n      setIsEtcPM = _useState4[1];\n\n  var _useState5 = useState([{\n    이름: '',\n    날짜: defaultDate,\n    오전: '휴무일',\n    오후: '휴무일'\n  }]),\n      _useState6 = _slicedToArray(_useState5, 2),\n      schedule = _useState6[0],\n      setSchedule = _useState6[1];\n\n  var onClickSave = function onClickSave() {\n    axios.defaults.headers.common['Authorization'] = cookies.token;\n\n    if (schedule[0].오전 == '' || schedule[0].오후 == '') {\n      alert('스케줄을 입력해주세요');\n      return;\n    }\n\n    console.log(schedule); // axios.post('/schedule/add', {schedule})\n    // .then(res => {\n    // })\n    // .catch(err => {\n    //   if (cookies.token) {\n    //     removeCookie('token');\n    //   }\n    //   alert(\"세션이 만료되었습니다. 다시 로그인 해주세요\");\n    //   window.location.href = \"/\";\n    // });\n    // window.location.href = \"#/app/schedule\";\n    // window.location.reload();\n  };\n\n  useEffect(function () {\n    var _이름 = JSON.parse(localStorage.getItem(\"userInfo\")) ? JSON.parse(localStorage.getItem(\"userInfo\")).id : '';\n\n    setSchedule(schedule.map(function (_ref) {\n      var 이름 = _ref.이름,\n          날짜 = _ref.날짜,\n          오전 = _ref.오전,\n          오후 = _ref.오후;\n      return {\n        이름: _이름,\n        날짜: 날짜,\n        오전: 오전,\n        오후: 오후\n      };\n    }));\n  }, []);\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Widget, {\n    title: /*#__PURE__*/React.createElement(\"p\", {\n      style: {\n        fontSize: 20,\n        fontWeight: 700\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 22\n      }\n    }, \"\\uC77C\\uC815 \\uCD94\\uAC00\"),\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Table, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"tr\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"td\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 13\n    }\n  }, \"\\uB0A0\\uC9DC\"), /*#__PURE__*/React.createElement(\"td\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Flatpickr, {\n    className: \"form-control\",\n    value: schedule[0].날짜,\n    onChange: function onChange(date) {\n      return setSchedule(schedule.map(function (_ref2) {\n        var 이름 = _ref2.이름,\n            날짜 = _ref2.날짜,\n            오전 = _ref2.오전,\n            오후 = _ref2.오후;\n        return {\n          이름: 이름,\n          날짜: moment(new Date(date)).format(\"YYYY-MM-DD\"),\n          오전: 오전,\n          오후: 오후\n        };\n      }));\n    },\n    options: {\n      dateFormat: \"Y-m-d\"\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 15\n    }\n  }))), /*#__PURE__*/React.createElement(\"tr\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"td\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 13\n    }\n  }, \"\\uC624\\uC804\"), /*#__PURE__*/React.createElement(\"td\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"select\", {\n    className: \"form-control\",\n    value: schedule[0].오전,\n    onChange: function onChange(e) {\n      if (e.target.value == '') {\n        setIsEtcAM(true);\n      } else {\n        setIsEtcAM(false);\n      }\n\n      setSchedule(schedule.map(function (_ref3) {\n        var 이름 = _ref3.이름,\n            날짜 = _ref3.날짜,\n            오전 = _ref3.오전,\n            오후 = _ref3.오후;\n        return {\n          이름: 이름,\n          날짜: 날짜,\n          오전: e.target.value,\n          오후: 오후\n        };\n      }));\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 15\n    }\n  }, place.map(function (place, index) {\n    return /*#__PURE__*/React.createElement(\"option\", {\n      key: index,\n      value: place,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 19\n      }\n    }, place);\n  }), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"\",\n    onSelect: function onSelect() {\n      return setIsEtcAM(true);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 17\n    }\n  }, \"\\uAE30\\uD0C0\")), isEtcAM === '' && /*#__PURE__*/React.createElement(\"input\", {\n    className: \"form-control\",\n    value: schedule[0].오전,\n    onChange: function onChange(e) {\n      return setSchedule(schedule.map(function (_ref4) {\n        var 이름 = _ref4.이름,\n            날짜 = _ref4.날짜,\n            오전 = _ref4.오전,\n            오후 = _ref4.오후;\n        return {\n          이름: 이름,\n          날짜: 날짜,\n          오전: e.target.value,\n          오후: 오후\n        };\n      }));\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 17\n    }\n  }))), /*#__PURE__*/React.createElement(\"tr\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"td\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 13\n    }\n  }, \"\\uC624\\uD6C4\"), /*#__PURE__*/React.createElement(\"td\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"select\", {\n    className: \"form-control\",\n    value: schedule[0].오후,\n    onChange: function onChange(e) {\n      return setSchedule(schedule.map(function (_ref5) {\n        var 이름 = _ref5.이름,\n            날짜 = _ref5.날짜,\n            오전 = _ref5.오전,\n            오후 = _ref5.오후;\n        return {\n          이름: 이름,\n          날짜: 날짜,\n          오전: 오전,\n          오후: e.target.value\n        };\n      }));\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 15\n    }\n  }, place.map(function (place, index) {\n    return /*#__PURE__*/React.createElement(\"option\", {\n      key: index,\n      value: place,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 19\n      }\n    }, place);\n  }), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 17\n    }\n  }, \"\\uAE30\\uD0C0\")), schedule[0].오후 === '' && /*#__PURE__*/React.createElement(\"input\", {\n    className: \"form-control\",\n    value: schedule[0].오후,\n    onChange: function onChange(e) {\n      return setSchedule(schedule.map(function (_ref6) {\n        var 이름 = _ref6.이름,\n            날짜 = _ref6.날짜,\n            오전 = _ref6.오전,\n            오후 = _ref6.오후;\n        return {\n          이름: 이름,\n          날짜: 날짜,\n          오전: 오전,\n          오후: e.target.value\n        };\n      }));\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 17\n    }\n  })))), /*#__PURE__*/React.createElement(Button, {\n    color: \"primary\",\n    onClick: onClickSave,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 9\n    }\n  }, \"\\uC800\\uC7A5\")));\n};\n\nexport default NewSchedule;","map":{"version":3,"sources":["C:/Users/suresoft/Desktop/vomproject/sure-frontend/src/pages/newSchedule/NewSchedule.js"],"names":["React","useState","useEffect","Widget","moment","Flatpickr","axios","Button","place","Table","useCookies","NewSchedule","props","cookies","removeCookie","defaultDate","location","state","Date","date","format","isEtcAM","setIsEtcAM","isEtcPM","setIsEtcPM","이름","날짜","오전","오후","schedule","setSchedule","onClickSave","defaults","headers","common","token","alert","console","log","_이름","JSON","parse","localStorage","getItem","id","map","fontSize","fontWeight","dateFormat","e","target","value","index"],"mappings":";;;;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,OAAOC,MAAP,MAAmB,gCAAnB;AACA,OAAOC,MAAP,MAAmB,QAAnB;AACA,OAAOC,SAAP,MAAsB,iBAAtB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,MAAP,MAAmB,uBAAnB;AACA,SAASC,KAAT,QAAsB,oCAAtB;AACA,SAASC,KAAT,QAAsB,YAAtB;AACA,SAASC,UAAT,QAA2B,cAA3B;;AAEA,IAAMC,WAAW,GAAG,SAAdA,WAAc,CAACC,KAAD,EAAW;AAC7B,oBAAiCF,UAAU,CAAC,CAAC,OAAD,CAAD,CAA3C;AAAA;AAAA,MAAOG,OAAP;AAAA,MAAgBC,YAAhB;;AACA,MAAMC,WAAW,GAAGH,KAAK,CAACI,QAAN,CAAeC,KAAf,GAAuBb,MAAM,CAAC,IAAIc,IAAJ,CAASN,KAAK,CAACI,QAAN,CAAeC,KAAf,CAAqBE,IAA9B,CAAD,CAAN,CAA4CC,MAA5C,CAAmD,YAAnD,CAAvB,GAA0FhB,MAAM,CAAC,IAAIc,IAAJ,EAAD,CAAN,CAAmBE,MAAnB,CAA0B,YAA1B,CAA9G;;AACA,kBAA8BnB,QAAQ,CAAC,KAAD,CAAtC;AAAA;AAAA,MAAOoB,OAAP;AAAA,MAAgBC,UAAhB;;AACA,mBAA8BrB,QAAQ,CAAC,KAAD,CAAtC;AAAA;AAAA,MAAOsB,OAAP;AAAA,MAAgBC,UAAhB;;AACA,mBAAgCvB,QAAQ,CAAC,CACvC;AACEwB,IAAAA,EAAE,EAAE,EADN;AAEEC,IAAAA,EAAE,EAAEX,WAFN;AAGEY,IAAAA,EAAE,EAAE,KAHN;AAIEC,IAAAA,EAAE,EAAE;AAJN,GADuC,CAAD,CAAxC;AAAA;AAAA,MAAOC,QAAP;AAAA,MAAiBC,WAAjB;;AASA,MAAMC,WAAW,GAAG,SAAdA,WAAc,GAAM;AACxBzB,IAAAA,KAAK,CAAC0B,QAAN,CAAeC,OAAf,CAAuBC,MAAvB,CAA8B,eAA9B,IAAiDrB,OAAO,CAACsB,KAAzD;;AACA,QAAGN,QAAQ,CAAC,CAAD,CAAR,CAAYF,EAAZ,IAAkB,EAAlB,IAAwBE,QAAQ,CAAC,CAAD,CAAR,CAAYD,EAAZ,IAAkB,EAA7C,EAAiD;AAC/CQ,MAAAA,KAAK,CAAC,aAAD,CAAL;AACA;AACD;;AACDC,IAAAA,OAAO,CAACC,GAAR,CAAYT,QAAZ,EANwB,CAOxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACD,GAnBD;;AAqBA3B,EAAAA,SAAS,CAAC,YAAK;AACX,QAAMqC,GAAG,GAAGC,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqB,UAArB,CAAX,IAA+CH,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqB,UAArB,CAAX,EAA6CC,EAA5F,GAAiG,EAA7G;;AACAd,IAAAA,WAAW,CAACD,QAAQ,CAACgB,GAAT,CAAa;AAAA,UAAEpB,EAAF,QAAEA,EAAF;AAAA,UAAMC,EAAN,QAAMA,EAAN;AAAA,UAAUC,EAAV,QAAUA,EAAV;AAAA,UAAcC,EAAd,QAAcA,EAAd;AAAA,aAAuB;AAACH,QAAAA,EAAE,EAAEc,GAAL;AAAUb,QAAAA,EAAE,EAAFA,EAAV;AAAcC,QAAAA,EAAE,EAAFA,EAAd;AAAkBC,QAAAA,EAAE,EAAFA;AAAlB,OAAvB;AAAA,KAAb,CAAD,CAAX;AACH,GAHQ,EAGN,EAHM,CAAT;AAKA,sBACE,uDACE,oBAAC,MAAD;AAAQ,IAAA,KAAK,eAAE;AAAG,MAAA,KAAK,EAAE;AAAEkB,QAAAA,QAAQ,EAAC,EAAX;AAAeC,QAAAA,UAAU,EAAE;AAA3B,OAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mCAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,KAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBADF,eAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,SAAD;AACE,IAAA,SAAS,EAAC,cADZ;AAEE,IAAA,KAAK,EAAElB,QAAQ,CAAC,CAAD,CAAR,CAAYH,EAFrB;AAGE,IAAA,QAAQ,EAAE,kBAACP,IAAD;AAAA,aAAUW,WAAW,CAACD,QAAQ,CAACgB,GAAT,CAAa;AAAA,YAAEpB,EAAF,SAAEA,EAAF;AAAA,YAAMC,EAAN,SAAMA,EAAN;AAAA,YAAUC,EAAV,SAAUA,EAAV;AAAA,YAAcC,EAAd,SAAcA,EAAd;AAAA,eAAuB;AAACH,UAAAA,EAAE,EAAFA,EAAD;AAAKC,UAAAA,EAAE,EAAEtB,MAAM,CAAC,IAAIc,IAAJ,CAASC,IAAT,CAAD,CAAN,CAAuBC,MAAvB,CAA8B,YAA9B,CAAT;AAAsDO,UAAAA,EAAE,EAAFA,EAAtD;AAA0DC,UAAAA,EAAE,EAAFA;AAA1D,SAAvB;AAAA,OAAb,CAAD,CAArB;AAAA,KAHZ;AAIE,IAAA,OAAO,EACL;AAACoB,MAAAA,UAAU,EAAE;AAAb,KALJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CAFF,CADF,eAcE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBADF,eAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AACE,IAAA,SAAS,EAAC,cADZ;AAEE,IAAA,KAAK,EAAEnB,QAAQ,CAAC,CAAD,CAAR,CAAYF,EAFrB;AAGE,IAAA,QAAQ,EAAE,kBAACsB,CAAD,EAAO;AACf,UAAGA,CAAC,CAACC,MAAF,CAASC,KAAT,IAAkB,EAArB,EAAyB;AACvB7B,QAAAA,UAAU,CAAC,IAAD,CAAV;AACD,OAFD,MAEO;AACLA,QAAAA,UAAU,CAAC,KAAD,CAAV;AACD;;AACDQ,MAAAA,WAAW,CAACD,QAAQ,CAACgB,GAAT,CAAa;AAAA,YAAEpB,EAAF,SAAEA,EAAF;AAAA,YAAMC,EAAN,SAAMA,EAAN;AAAA,YAAUC,EAAV,SAAUA,EAAV;AAAA,YAAcC,EAAd,SAAcA,EAAd;AAAA,eAAuB;AAACH,UAAAA,EAAE,EAAFA,EAAD;AAAKC,UAAAA,EAAE,EAAFA,EAAL;AAASC,UAAAA,EAAE,EAAEsB,CAAC,CAACC,MAAF,CAASC,KAAtB;AAA6BvB,UAAAA,EAAE,EAAFA;AAA7B,SAAvB;AAAA,OAAb,CAAD,CAAX;AACD,KAVH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAYGpB,KAAK,CAACqC,GAAN,CAAU,UAACrC,KAAD,EAAQ4C,KAAR;AAAA,wBACT;AAAQ,MAAA,GAAG,EAAEA,KAAb;AAAoB,MAAA,KAAK,EAAE5C,KAA3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAmCA,KAAnC,CADS;AAAA,GAAV,CAZH,eAeE;AAAQ,IAAA,KAAK,EAAC,EAAd;AAAiB,IAAA,QAAQ,EAAE;AAAA,aAAMc,UAAU,CAAC,IAAD,CAAhB;AAAA,KAA3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAfF,CADF,EAkBGD,OAAO,KAAK,EAAZ,iBACC;AAAO,IAAA,SAAS,EAAC,cAAjB;AAAgC,IAAA,KAAK,EAAEQ,QAAQ,CAAC,CAAD,CAAR,CAAYF,EAAnD;AACE,IAAA,QAAQ,EAAE,kBAACsB,CAAD;AAAA,aAAOnB,WAAW,CAACD,QAAQ,CAACgB,GAAT,CAAa;AAAA,YAAEpB,EAAF,SAAEA,EAAF;AAAA,YAAMC,EAAN,SAAMA,EAAN;AAAA,YAAUC,EAAV,SAAUA,EAAV;AAAA,YAAcC,EAAd,SAAcA,EAAd;AAAA,eAAuB;AAACH,UAAAA,EAAE,EAAFA,EAAD;AAAKC,UAAAA,EAAE,EAAFA,EAAL;AAASC,UAAAA,EAAE,EAAEsB,CAAC,CAACC,MAAF,CAASC,KAAtB;AAA6BvB,UAAAA,EAAE,EAAFA;AAA7B,SAAvB;AAAA,OAAb,CAAD,CAAlB;AAAA,KADZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAnBJ,CAFF,CAdF,eAyCE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBADF,eAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AACE,IAAA,SAAS,EAAC,cADZ;AAEE,IAAA,KAAK,EAAEC,QAAQ,CAAC,CAAD,CAAR,CAAYD,EAFrB;AAGE,IAAA,QAAQ,EAAE,kBAACqB,CAAD;AAAA,aAAOnB,WAAW,CAACD,QAAQ,CAACgB,GAAT,CAAa;AAAA,YAAEpB,EAAF,SAAEA,EAAF;AAAA,YAAMC,EAAN,SAAMA,EAAN;AAAA,YAAUC,EAAV,SAAUA,EAAV;AAAA,YAAcC,EAAd,SAAcA,EAAd;AAAA,eAAuB;AAACH,UAAAA,EAAE,EAAFA,EAAD;AAAKC,UAAAA,EAAE,EAAFA,EAAL;AAASC,UAAAA,EAAE,EAAFA,EAAT;AAAaC,UAAAA,EAAE,EAAEqB,CAAC,CAACC,MAAF,CAASC;AAA1B,SAAvB;AAAA,OAAb,CAAD,CAAlB;AAAA,KAHZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAKG3C,KAAK,CAACqC,GAAN,CAAU,UAACrC,KAAD,EAAQ4C,KAAR;AAAA,wBACT;AAAQ,MAAA,GAAG,EAAEA,KAAb;AAAoB,MAAA,KAAK,EAAE5C,KAA3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAmCA,KAAnC,CADS;AAAA,GAAV,CALH,eAQE;AAAQ,IAAA,KAAK,EAAC,EAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBARF,CADF,EAWGqB,QAAQ,CAAC,CAAD,CAAR,CAAYD,EAAZ,KAAmB,EAAnB,iBACC;AAAO,IAAA,SAAS,EAAC,cAAjB;AAAgC,IAAA,KAAK,EAAEC,QAAQ,CAAC,CAAD,CAAR,CAAYD,EAAnD;AACE,IAAA,QAAQ,EAAE,kBAACqB,CAAD;AAAA,aAAOnB,WAAW,CAACD,QAAQ,CAACgB,GAAT,CAAa;AAAA,YAAEpB,EAAF,SAAEA,EAAF;AAAA,YAAMC,EAAN,SAAMA,EAAN;AAAA,YAAUC,EAAV,SAAUA,EAAV;AAAA,YAAcC,EAAd,SAAcA,EAAd;AAAA,eAAuB;AAACH,UAAAA,EAAE,EAAFA,EAAD;AAAKC,UAAAA,EAAE,EAAFA,EAAL;AAASC,UAAAA,EAAE,EAAFA,EAAT;AAAaC,UAAAA,EAAE,EAAEqB,CAAC,CAACC,MAAF,CAASC;AAA1B,SAAvB;AAAA,OAAb,CAAD,CAAlB;AAAA,KADZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAZJ,CAFF,CAzCF,CADF,eA+DE,oBAAC,MAAD;AAAQ,IAAA,KAAK,EAAC,SAAd;AAAwB,IAAA,OAAO,EAAEpB,WAAjC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBA/DF,CADF,CADF;AAqED,CA7GD;;AA+GA,eAAepB,WAAf","sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport Widget from '../../components/Widget/Widget';\r\nimport moment from \"moment\";\r\nimport Flatpickr from \"react-flatpickr\";\r\nimport axios from 'axios';\r\nimport Button from 'reactstrap/lib/Button';\r\nimport { place } from '../newScheduleWeek/NewScheduleWeek';\r\nimport { Table } from 'reactstrap';\r\nimport { useCookies } from 'react-cookie';\r\n\r\nconst NewSchedule = (props) => {\r\n  const [cookies, removeCookie ] = useCookies(['token']);\r\n  const defaultDate = props.location.state ? moment(new Date(props.location.state.date)).format(\"YYYY-MM-DD\") : moment(new Date()).format('YYYY-MM-DD');\r\n  const [isEtcAM, setIsEtcAM] = useState(false);\r\n  const [isEtcPM, setIsEtcPM] = useState(false);\r\n  const [schedule, setSchedule] = useState([\r\n    {\r\n      이름: '',\r\n      날짜: defaultDate,\r\n      오전: '휴무일',\r\n      오후: '휴무일',\r\n    }\r\n  ]);\r\n\r\n  const onClickSave = () => {\r\n    axios.defaults.headers.common['Authorization'] = cookies.token;\r\n    if(schedule[0].오전 == '' || schedule[0].오후 == '') {\r\n      alert('스케줄을 입력해주세요');\r\n      return;\r\n    }\r\n    console.log(schedule);\r\n    // axios.post('/schedule/add', {schedule})\r\n    // .then(res => {\r\n    // })\r\n    // .catch(err => {\r\n    //   if (cookies.token) {\r\n    //     removeCookie('token');\r\n    //   }\r\n    //   alert(\"세션이 만료되었습니다. 다시 로그인 해주세요\");\r\n    //   window.location.href = \"/\";\r\n    // });\r\n    // window.location.href = \"#/app/schedule\";\r\n    // window.location.reload();\r\n  }\r\n\r\n  useEffect(()=> {\r\n      const _이름 = JSON.parse(localStorage.getItem(\"userInfo\")) ? JSON.parse(localStorage.getItem(\"userInfo\")).id : '';\r\n      setSchedule(schedule.map(({이름, 날짜, 오전, 오후}) => ({이름: _이름, 날짜, 오전, 오후})));\r\n  }, [])\r\n\r\n  return (\r\n    <>\r\n      <Widget title={<p style={{ fontSize:20, fontWeight: 700 }}>일정 추가</p>}>\r\n        <Table>\r\n          <tr>\r\n            <td>날짜</td>\r\n            <td>\r\n              <Flatpickr\r\n                className=\"form-control\"\r\n                value={schedule[0].날짜}\r\n                onChange={(date) => setSchedule(schedule.map(({이름, 날짜, 오전, 오후}) => ({이름, 날짜: moment(new Date(date)).format(\"YYYY-MM-DD\"), 오전, 오후})))}\r\n                options={\r\n                  {dateFormat: \"Y-m-d\"}\r\n                }\r\n              />\r\n            </td>\r\n          </tr>\r\n          <tr>\r\n            <td>오전</td>\r\n            <td>\r\n              <select\r\n                className=\"form-control\"\r\n                value={schedule[0].오전}\r\n                onChange={(e) => {\r\n                  if(e.target.value == '') {\r\n                    setIsEtcAM(true);\r\n                  } else {\r\n                    setIsEtcAM(false);\r\n                  }\r\n                  setSchedule(schedule.map(({이름, 날짜, 오전, 오후}) => ({이름, 날짜, 오전: e.target.value, 오후})))\r\n                }}\r\n              >\r\n                {place.map((place, index) => (\r\n                  <option key={index} value={place}>{place}</option>\r\n                ))}\r\n                <option value=\"\" onSelect={() => setIsEtcAM(true)}>기타</option>\r\n              </select>\r\n              {isEtcAM === '' &&\r\n                <input className=\"form-control\" value={schedule[0].오전}\r\n                  onChange={(e) => setSchedule(schedule.map(({이름, 날짜, 오전, 오후}) => ({이름, 날짜, 오전: e.target.value, 오후})))}\r\n                />\r\n              }\r\n            </td>\r\n          </tr>\r\n          <tr>\r\n            <td>오후</td>\r\n            <td>\r\n              <select\r\n                className=\"form-control\"\r\n                value={schedule[0].오후}\r\n                onChange={(e) => setSchedule(schedule.map(({이름, 날짜, 오전, 오후}) => ({이름, 날짜, 오전, 오후: e.target.value})))}\r\n              >\r\n                {place.map((place, index) => (\r\n                  <option key={index} value={place}>{place}</option>\r\n                ))}\r\n                <option value=\"\">기타</option>\r\n              </select>\r\n              {schedule[0].오후 === '' &&\r\n                <input className=\"form-control\" value={schedule[0].오후}\r\n                  onChange={(e) => setSchedule(schedule.map(({이름, 날짜, 오전, 오후}) => ({이름, 날짜, 오전, 오후: e.target.value})))}\r\n                />\r\n              }\r\n            </td>\r\n          </tr>\r\n        </Table>\r\n        <Button color=\"primary\" onClick={onClickSave}>저장</Button>\r\n      </Widget>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default NewSchedule;"]},"metadata":{},"sourceType":"module"}