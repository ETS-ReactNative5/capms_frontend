{"ast":null,"code":"import _slicedToArray from \"C:\\\\Users\\\\suresoft\\\\Desktop\\\\vomproject\\\\sure-frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"C:\\\\Users\\\\suresoft\\\\Desktop\\\\vomproject\\\\sure-frontend\\\\src\\\\pages\\\\organization\\\\Organization.js\";\n\nimport React, { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport { useCookies } from \"react-cookie\";\nimport './Organization.scss';\nimport Widget from \"../../components/Widget/Widget\";\nvar ranks = ['수석(부장)', '책임', '선임', '전임'];\n\nvar Organization = function Organization() {\n  var _useCookies = useCookies(['token']),\n      _useCookies2 = _slicedToArray(_useCookies, 2),\n      cookies = _useCookies2[0],\n      removeCookie = _useCookies2[1];\n\n  var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      teams = _useState2[0],\n      setTeams = _useState2[1];\n\n  var _useState3 = useState([]),\n      _useState4 = _slicedToArray(_useState3, 2),\n      members = _useState4[0],\n      setMembers = _useState4[1];\n\n  useEffect(function () {\n    return findAllInfo();\n  }, []);\n\n  var findAllInfo = function findAllInfo() {\n    axios.defaults.headers.common['Authorization'] = cookies.token;\n    axios.all([axios.get(\"http://\".concat(process.env.REACT_APP_API_URL, \"/members\")), axios.get(\"http://\".concat(process.env.REACT_APP_API_URL, \"/teams\"))]).then(axios.spread(function (res1, res2) {\n      setMembers(res1.data);\n      setTeams(res2.data.filter(function (team) {\n        return team.year === new Date().getFullYear() && team.teamname.charAt(team.teamname.length - 1) === '팀';\n      }).sort(function (a, b) {\n        return a.num - b.num;\n      }));\n    })).catch(function (err) {\n      console.log(err);\n\n      if (cookies.token) {\n        removeCookie('token');\n      }\n\n      alert(\"세션이 만료되었습니다. 다시 로그인 해주세요\");\n      window.location.href = \"/\";\n    });\n  };\n\n  var getHead = function getHead() {\n    if (members.length > 0) {\n      var head = members.find(function (member) {\n        return member.직책 === '실장';\n      });\n      return head.name + \" \" + head.직책;\n    }\n  };\n\n  var getTeamMembers = function getTeamMembers(team, rank) {\n    var _members = members.filter(function (member) {\n      return member.team === team && member.직급 === rank && member.직책 !== '팀장';\n    }).sort(function (a, b) {\n      return a.name.localeCompare(b.name);\n    });\n\n    var data = [];\n\n    _members.forEach(function (member) {\n      data.push( /*#__PURE__*/React.createElement(\"div\", {\n        key: member.id,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"organization__team_\" + ranks.indexOf(member.직급),\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 11\n        }\n      }, member.name, \" \", member.직급)));\n    });\n\n    return data;\n  };\n\n  return /*#__PURE__*/React.createElement(Widget, {\n    title: /*#__PURE__*/React.createElement(\"p\", {\n      style: {\n        fontSize: 30,\n        fontWeight: 700\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 20\n      }\n    }, \"\\uC870\\uC9C1\\uB3C4\"),\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"organization__wrapper\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"organization__title\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"organization__title_main\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 11\n    }\n  }, \"\\uBBF8\\uB798\\uCC28\\uAC80\\uC99D\\uC804\\uB7B5\\uC2E4\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"organization__title_sub\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 11\n    }\n  }, getHead())), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"organization__calculate\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 9\n    }\n  }, \"\\uCD1D \\uC778\\uC6D0 \", members.filter(function (member) {\n    return member.team && member.직급 !== '인턴';\n  }).length, \"\\uBA85\"), /*#__PURE__*/React.createElement(\"table\", {\n    className: \"organization__teams\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"thead\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"tr\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 13\n    }\n  }, teams.map(function (team, index) {\n    return /*#__PURE__*/React.createElement(\"td\", {\n      className: \"organization__team_name\",\n      key: index,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 17\n      }\n    }, team.teamname);\n  }))), /*#__PURE__*/React.createElement(\"tbody\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"tr\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 13\n    }\n  }, teams.map(function (team) {\n    return members.filter(function (member) {\n      return member.team === team.teamname && member.직책 === '팀장';\n    }).map(function (member, index) {\n      return /*#__PURE__*/React.createElement(\"td\", {\n        className: \"organization__team_head\",\n        key: index,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 19\n        }\n      }, member.name, \" \", member.직책);\n    });\n  })), ranks.map(function (rank, index) {\n    return /*#__PURE__*/React.createElement(\"tr\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 17\n      }\n    }, teams.map(function (team) {\n      return /*#__PURE__*/React.createElement(\"td\", {\n        className: \"organization__team_member\",\n        key: index,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 21\n        }\n      }, getTeamMembers(team.teamname, rank));\n    }));\n  }), /*#__PURE__*/React.createElement(\"tr\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 13\n    }\n  }, teams.map(function (_ref, index) {\n    var teamname = _ref.teamname;\n    return /*#__PURE__*/React.createElement(\"td\", {\n      className: \"organization__team_name\",\n      key: index,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 17\n      }\n    }, members.filter(function (member) {\n      return member.team === teamname && member.직급 !== '인턴';\n    }).length, \"\\uBA85\");\n  })))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"organization__interns\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"organization__interns_title\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 11\n    }\n  }, \"\\uC778\\uD134\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"organization__interns_list\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 11\n    }\n  }, members.filter(function (member) {\n    return member.직급 === '인턴';\n  }).map(function (member, index) {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      key: index,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"organization__interns_0\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 15\n      }\n    }, member.name));\n  })))));\n};\n\nexport default Organization;","map":{"version":3,"sources":["C:/Users/suresoft/Desktop/vomproject/sure-frontend/src/pages/organization/Organization.js"],"names":["React","useState","useEffect","axios","useCookies","Widget","ranks","Organization","cookies","removeCookie","teams","setTeams","members","setMembers","findAllInfo","defaults","headers","common","token","all","get","process","env","REACT_APP_API_URL","then","spread","res1","res2","data","filter","team","year","Date","getFullYear","teamname","charAt","length","sort","a","b","num","catch","err","console","log","alert","window","location","href","getHead","head","find","member","직책","name","getTeamMembers","rank","_members","직급","localeCompare","forEach","push","id","indexOf","fontSize","fontWeight","map","index"],"mappings":"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","sourcesContent":["import React, {useState, useEffect} from \"react\";\r\nimport axios from \"axios\";\r\nimport { useCookies } from \"react-cookie\";\r\nimport './Organization.scss'\r\nimport Widget from \"../../components/Widget/Widget\";\r\n\r\nconst ranks = ['수석(부장)', '책임', '선임', '전임']\r\n\r\nconst Organization = () => {\r\n  const [cookies, removeCookie ] = useCookies(['token']);\r\n  const [teams, setTeams] = useState([]);\r\n  const [members, setMembers] = useState([]);\r\n\r\n  useEffect(() => findAllInfo(), []);\r\n\r\n  const findAllInfo = () => {\r\n    axios.defaults.headers.common['Authorization'] = cookies.token;\r\n    axios\r\n    .all([\r\n      axios.get(`http://${process.env.REACT_APP_API_URL}/members`),\r\n      axios.get(`http://${process.env.REACT_APP_API_URL}/teams`),\r\n    ])\r\n    .then(axios.spread((res1, res2) => {\r\n      setMembers(res1.data);\r\n      setTeams(res2.data\r\n        .filter(team => team.year === new Date().getFullYear() && team.teamname.charAt(team.teamname.length - 1) === '팀')\r\n        .sort((a, b) => a.num - b.num));\r\n    }))\r\n    .catch(err => {\r\n      console.log(err);\r\n      if (cookies.token) {\r\n        removeCookie('token');\r\n      }\r\n      alert(\"세션이 만료되었습니다. 다시 로그인 해주세요\");\r\n      window.location.href = \"/\";\r\n    });\r\n  };\r\n\r\n  const getHead = () => {\r\n    if (members.length > 0) {\r\n      const head = members.find(member => member.직책 === '실장');\r\n      return (head.name + \" \" + head.직책);\r\n    }\r\n  };\r\n\r\n  const getTeamMembers = (team, rank) => {\r\n    const _members = members.filter(member => member.team === team && member.직급 === rank && member.직책 !== '팀장')\r\n    .sort((a, b) => a.name.localeCompare(b.name))\r\n    let data = [];\r\n    _members.forEach(member => {\r\n      data.push(\r\n        <div key={member.id}>\r\n          <div className={\"organization__team_\"+ranks.indexOf(member.직급)}>{member.name} {member.직급}</div>\r\n        </div>\r\n      );\r\n    });\r\n    return data;\r\n  };\r\n\r\n  return (\r\n    <Widget title={<p style={{ fontSize:30, fontWeight: 700 }}>조직도</p>}>\r\n      <div className=\"organization__wrapper\">\r\n        <div className=\"organization__title\">\r\n          <div className=\"organization__title_main\">미래차검증전략실</div>\r\n          <div className=\"organization__title_sub\">{getHead()}</div>\r\n        </div>\r\n        <div className=\"organization__calculate\">\r\n          총 인원 {members.filter(member => member.team && member.직급 !== '인턴').length}명\r\n        </div>\r\n        <table className=\"organization__teams\">\r\n          <thead>\r\n            <tr>\r\n              {teams\r\n              .map((team, index) => (\r\n                <td className=\"organization__team_name\" key={index}>{team.teamname}</td>\r\n              ))}\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            <tr>\r\n              {teams\r\n              .map(team => (\r\n                members\r\n                .filter(member => member.team === team.teamname && member.직책 === '팀장')\r\n                .map((member, index) => (\r\n                  <td className=\"organization__team_head\" key={index}>{member.name} {member.직책}</td>\r\n                ))\r\n              ))}\r\n            </tr>\r\n              {ranks\r\n              .map((rank, index) => (\r\n                <tr>\r\n                  {teams\r\n                  .map(team => (\r\n                    <td className=\"organization__team_member\" key={index}>\r\n                      {getTeamMembers(team.teamname, rank)}\r\n                    </td>))}\r\n                </tr>\r\n              ))}\r\n            <tr>\r\n              {teams.map(({teamname}, index) => (\r\n                <td className=\"organization__team_name\" key={index}>\r\n                  {members.filter(member => member.team === teamname && member.직급 !== '인턴').length}명\r\n                </td>\r\n              ))}\r\n            </tr>\r\n          </tbody>\r\n        </table>\r\n        <div className=\"organization__interns\">\r\n          <div className=\"organization__interns_title\">인턴</div>\r\n          <div className=\"organization__interns_list\">\r\n          {members.filter(member => member.직급 === '인턴').map((member, index) => (\r\n            <div key={index}>\r\n              <div className=\"organization__interns_0\">{member.name}</div>\r\n            </div>\r\n          ))}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </Widget>\r\n  );\r\n}\r\n\r\nexport default Organization;"]},"metadata":{},"sourceType":"module"}