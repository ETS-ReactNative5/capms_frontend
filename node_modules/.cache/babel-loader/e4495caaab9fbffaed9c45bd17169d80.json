{"ast":null,"code":"import _slicedToArray from \"C:\\\\Users\\\\suresoft\\\\Desktop\\\\vomproject\\\\sure-frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"C:\\\\Users\\\\suresoft\\\\Desktop\\\\vomproject\\\\sure-frontend\\\\src\\\\pages\\\\charts\\\\HighCharts.js\";\n\nimport React, { useState, useEffect } from 'react';\nimport Highcharts from 'highcharts';\nimport HighchartsReact from 'highcharts-react-official';\nimport exporting from 'highcharts/modules/exporting';\nimport exportData from 'highcharts/modules/export-data';\nimport accessibility from 'highcharts/modules/accessibility';\nimport highchartsGantt from \"highcharts/modules/gantt\";\nimport Widget from '../../components/Widget/Widget';\nexporting(Highcharts);\nexportData(Highcharts);\naccessibility(Highcharts);\nhighchartsGantt(Highcharts);\n\nvar HighChartsPage = function HighChartsPage() {\n  var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      data = _useState2[0],\n      setData = _useState2[1];\n\n  var _useState3 = useState([{\n    id: 1,\n    name: '공통',\n    color: '#7cb5ec',\n    year: '2021',\n    project_id: 172\n  }, {\n    id: 3,\n    name: 'EMS',\n    color: '#90ed7d',\n    year: '2021',\n    project_id: 172\n  }]),\n      _useState4 = _slicedToArray(_useState3, 2),\n      rawResource = _useState4[0],\n      setRawResource = _useState4[1];\n\n  var _useState5 = useState([{\n    id: 1,\n    name: '안전분석',\n    담당자: '이소영',\n    resource_id: 1\n  }, {\n    id: 2,\n    name: '자동화',\n    담당자: '이소영',\n    resource_id: 1\n  }, {\n    id: 3,\n    name: '제어',\n    담당자: '김회래',\n    resource_id: 3\n  }]),\n      _useState6 = _slicedToArray(_useState5, 2),\n      rawSub = _useState6[0],\n      setRawSub = _useState6[1];\n\n  var _useState7 = useState([{\n    id: 1,\n    start: '2021-04-01',\n    end: '2021-04-24',\n    text: '안전분석 가이드',\n    sub_id: 1,\n    resource_id: 1\n  }, {\n    id: 2,\n    start: '2021-04-19',\n    end: '2021-05-01',\n    text: '자동화 템플릿',\n    sub_id: 2,\n    resource_id: 1\n  }, {\n    id: 3,\n    start: '2021-05-03',\n    end: '2021-05-15',\n    text: 'GE룸',\n    sub_id: 3,\n    resource_id: 3\n  }]),\n      _useState8 = _slicedToArray(_useState7, 2),\n      rawEvents = _useState8[0],\n      setRawEvents = _useState8[1];\n\n  var parseData = function parseData() {\n    var data = [];\n    var y_count = 0;\n\n    var _loop = function _loop(i_resource) {\n      data.push({\n        resource: rawResource[i_resource].name,\n        pointWidth: 0,\n        y: y_count++\n      });\n      var sub = rawSub.filter(function (item) {\n        return rawResource[i_resource].id === item.resource_id;\n      });\n\n      var _loop2 = function _loop2(i_sub) {\n        var events = rawEvents.filter(function (item) {\n          return sub[i_sub].id === item.sub_id;\n        });\n\n        for (var i_event = 0; i_event < events.length; i_event++) {\n          data.push({\n            name: sub[i_sub].name,\n            start: Date.UTC(events[i_event].start.split('-')[0], events[i_event].start.split('-')[1] - 1, events[i_event].start.split('-')[2]),\n            end: Date.UTC(events[i_event].end.split('-')[0], events[i_event].end.split('-')[1] - 1, events[i_event].end.split('-')[2]),\n            // start: new Date(events[i_event].start),\n            // end: new Date(events[i_event].end),\n            담당자: sub[i_sub].담당자,\n            color: rawResource[i_resource].color,\n            y: y_count\n          });\n        }\n\n        y_count++;\n      };\n\n      for (var i_sub = 0; i_sub < sub.length; i_sub++) {\n        _loop2(i_sub);\n      }\n    };\n\n    for (var i_resource = 0; i_resource < rawResource.length; i_resource++) {\n      _loop(i_resource);\n    }\n\n    console.log(data);\n    setData(data);\n  };\n\n  useEffect(function () {\n    return parseData();\n  }, []);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Widget, {\n    title: /*#__PURE__*/React.createElement(\"p\", {\n      style: {\n        fontSize: 30,\n        fontWeight: 700\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 22\n      }\n    }, \"WBS\"),\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(HighchartsReact, {\n    highcharts: Highcharts,\n    constructorType: \"ganttChart\",\n    options: {\n      title: {\n        text: '프로젝트 명'\n      },\n      yAxis: {\n        type: 'category',\n        grid: {\n          cellHeight: 300,\n          columns: [{\n            title: {\n              text: '구분'\n            },\n            labels: {\n              format: '{point.resource}'\n            }\n          }, {\n            title: {\n              text: '작업'\n            },\n            labels: {\n              format: '{point.name}'\n            }\n          }, {\n            title: {\n              text: '담당자'\n            },\n            labels: {\n              format: '{point.담당자}'\n            }\n          }]\n        }\n      },\n      series: [{\n        data: data //   data: [ //data 들어오는곳\n        //   {\n        //     resource: '구분1',\n        //     pointWidth: 0, //resource에 꼭 필요\n        //     y: 0\n        //   }, {\n        //     name: '1-1작업', //sub의 이름\n        //     start: Date.UTC(2014, 1, 14),\n        //     end: Date.UTC(2014, 10, 20),\n        //     담당자: 'jin',\n        //     color: '#3a5d96',\n        //     y: 1\n        //   }, {\n        //     name: '1-1작업',\n        //     start: Date.UTC(2014, 10, 27),\n        //     end: Date.UTC(2014, 10, 29),\n        //     resource: '',\n        //     담당자: 'jin',\n        //     color: '#3a5d96',\n        //     y: 1\n        //   }, {\n        //     resource: '구분2',\n        //     pointWidth: 0,\n        //     y: 2\n        //   }, {\n        //     name: '2-1작업',\n        //     start: Date.UTC(2014, 10, 23),\n        //     end: Date.UTC(2014, 10, 26),\n        //     담당자: 'soo',\n        //     color: '#497248',\n        //     y: 3\n        //   }, {\n        //     name: '2-2작업',\n        //     start: Date.UTC(2014, 10, 27),\n        //     end: Date.UTC(2014, 10, 29),\n        //     담당자: 'ye',\n        //     color: '#497248',\n        //     y: 4\n        //   }\n        // ]\n\n      }],\n      navigator: {\n        enabled: true,\n        liveRedraw: true,\n        series: {\n          type: 'gantt',\n          pointPlacement: 0.5,\n          pointPadding: 0.25\n        }\n      },\n      rangeSelector: {\n        //1개월, 3개월, 6개월, 1년 바꿀수 있음\n        enabled: true,\n        selected: 0,\n        inputDateFormat: '%Y-%m-%d',\n        buttons: [{\n          type: 'month',\n          count: 1,\n          text: '1m',\n          title: '1개월 보기'\n        }, {\n          type: 'month',\n          count: 3,\n          text: '3m',\n          title: '3개월 보기'\n        }, {\n          type: 'month',\n          count: 6,\n          text: '6m',\n          title: '6개월 보기'\n        }, {\n          type: 'ytd',\n          text: 'YTD',\n          title: '연초부터 현재까지'\n        }, {\n          type: 'year',\n          count: 1,\n          text: '1y',\n          title: '1년 보기'\n        }, {\n          type: 'all',\n          text: 'All',\n          title: '전체보기'\n        }]\n      }\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 11\n    }\n  })));\n};\n\nexport default HighChartsPage;","map":{"version":3,"sources":["C:/Users/suresoft/Desktop/vomproject/sure-frontend/src/pages/charts/HighCharts.js"],"names":["React","useState","useEffect","Highcharts","HighchartsReact","exporting","exportData","accessibility","highchartsGantt","Widget","HighChartsPage","data","setData","id","name","color","year","project_id","rawResource","setRawResource","담당자","resource_id","rawSub","setRawSub","start","end","text","sub_id","rawEvents","setRawEvents","parseData","y_count","i_resource","push","resource","pointWidth","y","sub","filter","item","i_sub","events","i_event","length","Date","UTC","split","console","log","fontSize","fontWeight","title","yAxis","type","grid","cellHeight","columns","labels","format","series","navigator","enabled","liveRedraw","pointPlacement","pointPadding","rangeSelector","selected","inputDateFormat","buttons","count"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport Highcharts from 'highcharts';\r\nimport HighchartsReact from 'highcharts-react-official'\r\nimport exporting from 'highcharts/modules/exporting';\r\nimport exportData from 'highcharts/modules/export-data';\r\nimport accessibility from 'highcharts/modules/accessibility';\r\nimport highchartsGantt from \"highcharts/modules/gantt\";\r\nimport Widget from '../../components/Widget/Widget';\r\n\r\nexporting(Highcharts);\r\nexportData(Highcharts);\r\naccessibility(Highcharts);\r\nhighchartsGantt(Highcharts);\r\n\r\nconst HighChartsPage = () => {\r\n  const [data, setData] = useState([]);\r\n  const [rawResource, setRawResource] = useState([\r\n    {\r\n      id: 1,\r\n      name: '공통',\r\n      color: '#7cb5ec',\r\n      year: '2021',\r\n      project_id: 172,\r\n    },\r\n    {\r\n      id: 3,\r\n      name: 'EMS',\r\n      color: '#90ed7d',\r\n      year: '2021',\r\n      project_id: 172,\r\n    }\r\n  ]);\r\n  const [rawSub, setRawSub] = useState([\r\n    {\r\n      id: 1,\r\n      name: '안전분석',\r\n      담당자: '이소영',\r\n      resource_id: 1,\r\n    },\r\n    {\r\n      id: 2,\r\n      name: '자동화',\r\n      담당자: '이소영',\r\n      resource_id: 1,\r\n    },\r\n    {\r\n      id: 3,\r\n      name: '제어',\r\n      담당자: '김회래',\r\n      resource_id: 3,\r\n    },\r\n  ]);\r\n  const [rawEvents, setRawEvents] = useState([\r\n    {\r\n      id: 1,\r\n      start: '2021-04-01',\r\n      end: '2021-04-24',\r\n      text: '안전분석 가이드',\r\n      sub_id: 1,\r\n      resource_id: 1,\r\n    },\r\n    {\r\n      id: 2,\r\n      start: '2021-04-19',\r\n      end: '2021-05-01',\r\n      text: '자동화 템플릿',\r\n      sub_id: 2,\r\n      resource_id: 1,\r\n    },\r\n    {\r\n      id: 3,\r\n      start: '2021-05-03',\r\n      end: '2021-05-15',\r\n      text: 'GE룸',\r\n      sub_id: 3,\r\n      resource_id: 3,\r\n    }\r\n  ]);\r\n\r\n  const parseData = () => {\r\n    const data = [];\r\n    let y_count = 0;\r\n    for (let i_resource = 0; i_resource < rawResource.length; i_resource++) {\r\n      data.push({\r\n        resource: rawResource[i_resource].name,\r\n        pointWidth: 0,\r\n        y: y_count++\r\n      });\r\n      const sub = rawSub.filter((item) => rawResource[i_resource].id === item.resource_id);\r\n      for (let i_sub = 0; i_sub < sub.length; i_sub++) {\r\n        const events = rawEvents.filter((item) => sub[i_sub].id === item.sub_id);\r\n        for (let i_event = 0; i_event < events.length; i_event++) {\r\n          data.push({\r\n            name: sub[i_sub].name,\r\n            start: Date.UTC(events[i_event].start.split('-')[0], events[i_event].start.split('-')[1] - 1, events[i_event].start.split('-')[2]),\r\n            end: Date.UTC(events[i_event].end.split('-')[0], events[i_event].end.split('-')[1] - 1, events[i_event].end.split('-')[2]),\r\n            // start: new Date(events[i_event].start),\r\n            // end: new Date(events[i_event].end),\r\n            담당자: sub[i_sub].담당자,\r\n            color: rawResource[i_resource].color,\r\n            y: y_count})\r\n        }\r\n        y_count++;\r\n      }\r\n    }\r\n    console.log(data);\r\n    setData(data);\r\n  };\r\n\r\n  useEffect(() => parseData(), []);\r\n\r\n  return (\r\n    <div>\r\n      <Widget title={<p style={{ fontSize:30, fontWeight: 700 }}>WBS</p>}>\r\n          <HighchartsReact\r\n          highcharts={Highcharts}\r\n          constructorType={\"ganttChart\"}\r\n          options={{\r\n            title: {\r\n              text: '프로젝트 명'\r\n            },\r\n              yAxis: {\r\n                type: 'category',\r\n                grid: {\r\n                  cellHeight: 300,\r\n                  columns: [{\r\n                    title: {\r\n                      text: '구분',\r\n                    },\r\n                    labels: {\r\n                      format: '{point.resource}'\r\n                    }\r\n                  }, {\r\n                    title: {\r\n                      text: '작업',\r\n                    },\r\n                    labels: {\r\n                      format: '{point.name}'\r\n                    }\r\n                  }, {\r\n                    title: {\r\n                      text: '담당자',\r\n                    },\r\n                    labels: {\r\n                      format: '{point.담당자}'\r\n                    }\r\n                  }]\r\n                }\r\n              },\r\n              series: [{\r\n                data: data,\r\n              //   data: [ //data 들어오는곳\r\n              //   {\r\n              //     resource: '구분1',\r\n              //     pointWidth: 0, //resource에 꼭 필요\r\n              //     y: 0\r\n              //   }, {\r\n              //     name: '1-1작업', //sub의 이름\r\n              //     start: Date.UTC(2014, 1, 14),\r\n              //     end: Date.UTC(2014, 10, 20),\r\n              //     담당자: 'jin',\r\n              //     color: '#3a5d96',\r\n              //     y: 1\r\n              //   }, {\r\n              //     name: '1-1작업',\r\n              //     start: Date.UTC(2014, 10, 27),\r\n              //     end: Date.UTC(2014, 10, 29),\r\n              //     resource: '',\r\n              //     담당자: 'jin',\r\n              //     color: '#3a5d96',\r\n              //     y: 1\r\n              //   }, {\r\n              //     resource: '구분2',\r\n              //     pointWidth: 0,\r\n              //     y: 2\r\n              //   }, {\r\n              //     name: '2-1작업',\r\n              //     start: Date.UTC(2014, 10, 23),\r\n              //     end: Date.UTC(2014, 10, 26),\r\n              //     담당자: 'soo',\r\n              //     color: '#497248',\r\n              //     y: 3\r\n              //   }, {\r\n              //     name: '2-2작업',\r\n              //     start: Date.UTC(2014, 10, 27),\r\n              //     end: Date.UTC(2014, 10, 29),\r\n              //     담당자: 'ye',\r\n              //     color: '#497248',\r\n              //     y: 4\r\n              //   }\r\n              // ]\r\n            }],\r\n            navigator: {\r\n              enabled: true,\r\n              liveRedraw: true,\r\n              series: {\r\n                type: 'gantt',\r\n                pointPlacement: 0.5,\r\n                pointPadding: 0.25\r\n              },\r\n            },\r\n            rangeSelector: { //1개월, 3개월, 6개월, 1년 바꿀수 있음\r\n              enabled: true,\r\n              selected: 0,\r\n              inputDateFormat: '%Y-%m-%d',\r\n              buttons: [{\r\n                type: 'month',\r\n                count: 1,\r\n                text: '1m',\r\n                title: '1개월 보기'\r\n              }, {\r\n                type: 'month',\r\n                count: 3,\r\n                text: '3m',\r\n                title: '3개월 보기'\r\n              }, {\r\n                type: 'month',\r\n                count: 6,\r\n                text: '6m',\r\n                title: '6개월 보기'\r\n              }, {\r\n                type: 'ytd',\r\n                text: 'YTD',\r\n                title: '연초부터 현재까지'\r\n              }, {\r\n                type: 'year',\r\n                count: 1,\r\n                text: '1y',\r\n                title: '1년 보기'\r\n              }, {\r\n                type: 'all',\r\n                text: 'All',\r\n                title: '전체보기'\r\n              }]\r\n            },\r\n          }} />\r\n      </Widget>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default HighChartsPage;\r\n"]},"metadata":{},"sourceType":"module"}