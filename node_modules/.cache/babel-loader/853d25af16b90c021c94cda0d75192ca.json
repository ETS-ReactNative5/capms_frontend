{"ast":null,"code":"import _toConsumableArray from \"C:\\\\Users\\\\suresoft\\\\Desktop\\\\vomproject\\\\sure-frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/toConsumableArray\";\nimport _objectSpread from \"C:\\\\Users\\\\suresoft\\\\Desktop\\\\vomproject\\\\sure-frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";\nimport _slicedToArray from \"C:\\\\Users\\\\suresoft\\\\Desktop\\\\vomproject\\\\sure-frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"C:\\\\Users\\\\suresoft\\\\Desktop\\\\vomproject\\\\sure-frontend\\\\src\\\\pages\\\\charts\\\\HighCharts.js\";\n\nimport React, { useState, useEffect, useCallback } from 'react';\nimport { Table, Button, Input, Modal, ModalHeader, ModalBody, ModalFooter } from \"reactstrap\";\nimport Highcharts from 'highcharts';\nimport HighchartsReact from 'highcharts-react-official';\nimport exporting from 'highcharts/modules/exporting';\nimport exportData from 'highcharts/modules/export-data';\nimport accessibility from 'highcharts/modules/accessibility';\nimport highchartsGantt from \"highcharts/modules/gantt\";\nimport { useCookies } from 'react-cookie';\nimport Widget from '../../components/Widget/Widget';\nimport axios from 'axios';\nimport uuid from \"uuid/v4\";\nimport { toast } from \"react-toastify\";\nimport \"react-toastify/dist/ReactToastify.css\";\nimport e from 'cors';\nexporting(Highcharts);\nexportData(Highcharts);\naccessibility(Highcharts);\nhighchartsGantt(Highcharts);\n\nvar HighChartsPage = function HighChartsPage(props) {\n  var _useCookies = useCookies(['token']),\n      _useCookies2 = _slicedToArray(_useCookies, 2),\n      cookies = _useCookies2[0],\n      removeCookie = _useCookies2[1];\n\n  var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      data = _useState2[0],\n      setData = _useState2[1];\n\n  var _useState3 = useState(false),\n      _useState4 = _slicedToArray(_useState3, 2),\n      isOpen = _useState4[0],\n      setIsOpen = _useState4[1];\n\n  var _useState5 = useState(\"\"),\n      _useState6 = _slicedToArray(_useState5, 2),\n      modalMenu = _useState6[0],\n      setModalMenu = _useState6[1]; // 구분 추가 시 사용\n\n\n  var _useState7 = useState(\"\"),\n      _useState8 = _slicedToArray(_useState7, 2),\n      newResource = _useState8[0],\n      setNewResource = _useState8[1]; // 작업 추가 시 사용\n\n\n  var _useState9 = useState(\"\"),\n      _useState10 = _slicedToArray(_useState9, 2),\n      resourceYOfNewSub = _useState10[0],\n      setResourceYOfNewSub = _useState10[1];\n\n  var _useState11 = useState(\"\"),\n      _useState12 = _slicedToArray(_useState11, 2),\n      newSub = _useState12[0],\n      setNewSub = _useState12[1];\n\n  var _useState13 = useState(\"\"),\n      _useState14 = _slicedToArray(_useState13, 2),\n      newSubEname = _useState14[0],\n      setNewSubEname = _useState14[1]; // 이벤트 추가 시 사용\n\n\n  var _useState15 = useState(\"\"),\n      _useState16 = _slicedToArray(_useState15, 2),\n      resourceYOfNewEvent = _useState16[0],\n      setResourceYOfNewEvent = _useState16[1];\n\n  var _useState17 = useState(\"\"),\n      _useState18 = _slicedToArray(_useState17, 2),\n      subYOfNewEvent = _useState18[0],\n      setSubYOfNewEvent = _useState18[1];\n\n  var subName = \"\"; // 이벤트 추가 시, 구분에 따른 작업을 select 옵션으로 보여줄 건데, 이 때 작업이 중복되지 않기 위해 사용하는 변수\n\n  var _useState19 = useState(\"\"),\n      _useState20 = _slicedToArray(_useState19, 2),\n      newEventStartDate = _useState20[0],\n      setNewEventStartDate = _useState20[1];\n\n  var _useState21 = useState(\"\"),\n      _useState22 = _slicedToArray(_useState21, 2),\n      newEventEndDate = _useState22[0],\n      setNewEventEndDate = _useState22[1]; // 토스트 옵션 (고정값이므로 state로 관리 X)\n\n\n  var toastOptions = {\n    position: \"top-center\",\n    autoClose: 2000,\n    closeOnClick: false,\n    pauseOnHover: false,\n    draggable: true\n  }; // 토스트 (알림창)\n\n  var addNotification = function addNotification(message, type) {\n    var id = uuid();\n\n    if (type === \"error\") {\n      // 빨간색\n      toast.error( /*#__PURE__*/React.createElement(\"div\", {\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 19\n        }\n      }, message), _objectSpread(_objectSpread({}, toastOptions), {}, {\n        toastId: id\n      }));\n    } else if (type === \"info\") {\n      // 초록색\n      toast.info( /*#__PURE__*/React.createElement(\"div\", {\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 18\n        }\n      }, message), _objectSpread(_objectSpread({}, toastOptions), {}, {\n        toastId: id\n      }));\n    } else if (type === \"success\") {\n      // 노란색\n      toast.warn( /*#__PURE__*/React.createElement(\"div\", {\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 18\n        }\n      }, message), _objectSpread(_objectSpread({}, toastOptions), {}, {\n        toastId: id\n      }));\n    }\n  }; // 모달 토글 (껐다 켰다)\n\n\n  var toggle = function toggle() {\n    setIsOpen(!isOpen);\n  }; // 전체 데이터 로드\n\n\n  var parseData = function parseData() {\n    axios.defaults.headers.common['Authorization'] = cookies.token;\n    axios.all([axios.get(\"http://\".concat(process.env.REACT_APP_API_URL, \"/wbs/resources?id=172&year=2021\")), axios.get(\"http://\".concat(process.env.REACT_APP_API_URL, \"/wbs/sub\")), axios.get(\"http://\".concat(process.env.REACT_APP_API_URL, \"/wbs/events\"))]).then(axios.spread(function (res1, res2, res3) {\n      var rawResources = res1.data;\n      var rawSub = res2.data;\n      var rawEvents = res3.data;\n      var data = [];\n      var y_count = 0;\n\n      var _loop = function _loop(i_resource) {\n        data.push({\n          resource: rawResources[i_resource].name,\n          pointWidth: 0,\n          y: y_count++\n        });\n        resourceId = y_count - 1;\n        var sub = rawSub.filter(function (item) {\n          return rawResources[i_resource].id === item.resource_id;\n        });\n\n        var _loop2 = function _loop2(i_sub) {\n          var events = rawEvents.filter(function (item) {\n            return sub[i_sub].id === item.sub_id;\n          });\n\n          if (events.length === 0) {\n            data.push({\n              resourceId: resourceId,\n              name: sub[i_sub].name,\n              담당자: sub[i_sub].담당자,\n              color: rawResources[i_resource].color,\n              y: y_count // pointWidth: 0\n\n            });\n          } else {\n            for (var i_event = 0; i_event < events.length; i_event++) {\n              data.push({\n                resourceId: resourceId,\n                name: sub[i_sub].name,\n                start: Date.UTC(events[i_event].start.split('-')[0], events[i_event].start.split('-')[1] - 1, events[i_event].start.split('-')[2]),\n                end: Date.UTC(events[i_event].end.split('-')[0], events[i_event].end.split('-')[1] - 1, events[i_event].end.split('-')[2]),\n                담당자: sub[i_sub].담당자,\n                color: rawResources[i_resource].color,\n                y: y_count\n              });\n            }\n          }\n\n          y_count++;\n        };\n\n        for (var i_sub = 0; i_sub < sub.length; i_sub++) {\n          _loop2(i_sub);\n        }\n      };\n\n      for (var i_resource = 0; i_resource < rawResources.length; i_resource++) {\n        var resourceId;\n\n        _loop(i_resource);\n      }\n\n      console.log(\"데이터\", data);\n      setData(data);\n    })).catch(function (err) {\n      if (cookies.token) {\n        removeCookie('token');\n      }\n\n      alert(\"세션이 만료되었습니다. 다시 로그인 해주세요\");\n      window.location.href = \"/\";\n    });\n  }; // 구분 추가\n\n\n  var addResource = function addResource(newResource) {\n    data.push({\n      resource: newResource,\n      pointWidth: 0,\n      y: data.length !== 0 ? data[data.length - 1].y + 1 : 0\n    });\n    console.log(\"데이터 업데이트: \", data);\n    setData(data);\n    setNewResource(\"\");\n  }; // 작업 추가\n\n\n  var addSub = function addSub(resourceYOfNewSub) {\n    var newSubData = {\n      resourceId: Number(resourceYOfNewSub),\n      name: newSub,\n      담당자: newSubEname,\n      color: \"#000000\",\n      // pointWidth: 0,\n      y: 0\n    };\n    var resourceIndex = data.findIndex(function (d) {\n      return d.y === Number(resourceYOfNewSub);\n    });\n    var nextResourceIndex = data.slice(resourceIndex + 1).findIndex(function (d) {\n      return d.resource !== undefined;\n    });\n\n    if (nextResourceIndex !== -1) {\n      // 마지막 구분이 아닐 때\n      var targetIndex = nextResourceIndex + resourceIndex + 1; //  추가할 곳\n\n      newSubData.y = data[targetIndex].y;\n      data.splice(targetIndex, 0, newSubData);\n      data.slice(targetIndex + 1).map(function (d) {\n        d.y += 1;\n\n        if (d.resource === undefined) {\n          d.resourceId += 1;\n        }\n      });\n    } else {\n      // 마지막 구분일 때\n      newSubData.y = data[data.length - 1].y + 1;\n      data.push(newSubData);\n    }\n\n    setData(data);\n    setResourceYOfNewSub(\"\");\n    setNewSub(\"\");\n    setNewSubEname(\"\");\n  }; // 이벤트 추가\n\n\n  var addEvent = function addEvent(subYOfNewEvent) {\n    var subData = data[data.findIndex(function (d) {\n      return d.y === Number(subYOfNewEvent);\n    })];\n    var newEventData = {\n      resourceId: subData.resourceId,\n      name: subData.name,\n      start: Date.UTC(newEventStartDate.split('-')[0], newEventStartDate.split('-')[1] - 1, newEventStartDate.split('-')[2]),\n      end: Date.UTC(newEventEndDate.split('-')[0], newEventEndDate.split('-')[1] - 1, newEventEndDate.split('-')[2]),\n      담당자: subData.담당자,\n      color: subData.color,\n      y: subData.y\n    };\n    var targetIndex = (_toConsumableArray(data).reverse().findIndex(function (d) {\n      return d.y === Number(subYOfNewEvent);\n    }) - (data.length - 1)) * -1 + 1;\n    console.log(\"타겟 인덱스: \", targetIndex);\n    data.splice(targetIndex, 0, newEventData);\n    setData(data);\n    setResourceYOfNewEvent(\"\");\n    setSubYOfNewEvent(\"\");\n    setNewEventStartDate(\"\");\n    setNewEventEndDate(\"\");\n    console.log(\"데이터: \", data);\n  };\n\n  useEffect(function () {\n    return parseData();\n  }, []);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 226,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    className: \"text-capitalize btn btn-warning\",\n    onClick: function onClick() {\n      setModalMenu(\"resource\");\n      setIsOpen(!isOpen);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 227,\n      columnNumber: 7\n    }\n  }, \"\\uAD6C\\uBD84 \\uCD94\\uAC00\"), /*#__PURE__*/React.createElement(Button, {\n    className: \"text-capitalize btn btn-warning\",\n    onClick: function onClick() {\n      setModalMenu(\"sub\");\n      setIsOpen(!isOpen);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 236,\n      columnNumber: 7\n    }\n  }, \"\\uC791\\uC5C5 \\uCD94\\uAC00\"), /*#__PURE__*/React.createElement(Button, {\n    className: \"text-capitalize btn btn-warning\",\n    onClick: function onClick() {\n      setModalMenu(\"event\");\n      setIsOpen(!isOpen);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 246,\n      columnNumber: 7\n    }\n  }, \"\\uC774\\uBCA4\\uD2B8 \\uCD94\\uAC00\"), /*#__PURE__*/React.createElement(Widget, {\n    title: /*#__PURE__*/React.createElement(\"p\", {\n      style: {\n        fontSize: 30,\n        fontWeight: 700\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 256,\n        columnNumber: 22\n      }\n    }, \"WBS\"),\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 256,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(HighchartsReact, {\n    highcharts: Highcharts,\n    constructorType: \"ganttChart\",\n    options: {\n      chart: {\n        events: {\n          click: function click(e) {\n            console.log( // Highcharts.dateFormat('%Y-%m-%d %H:%M:%S', e.xAxis[0].value), e.yAxis[0].value\n            this);\n          }\n        },\n        animation: false\n      },\n      title: {\n        text: '프로젝트 명'\n      },\n      yAxis: {\n        labels: {\n          indentation: 100,\n          align: \"center\",\n          overflow: \"allow\",\n          step: 1,\n          style: {\n            fontSize: \"10px\",\n            // 왼쪽 표 글씨 사이즈\n            whiteSpace: \"break-spaces\" // textOverflow: \"ellipsis\"\n\n          }\n        },\n        type: 'category',\n        grid: {\n          cellHeight: 300,\n          columns: [{\n            title: {\n              text: '구분'\n            },\n            labels: {\n              format: '{point.resource}'\n            }\n          }, {\n            title: {\n              text: '작업'\n            },\n            labels: {\n              format: '{point.name}'\n            }\n          }, {\n            title: {\n              text: '담당자'\n            },\n            labels: {\n              format: '{point.담당자}'\n            }\n          }]\n        }\n      },\n      series: [{\n        events: {\n          click: function click(e) {\n            console.log(e);\n          }\n        },\n        data: data\n      }],\n      tooltip: {\n        pointFormat: '<span><strong>{point.name}</strong></span><br/><span>{point.start:%y.%m.%d}~{point.end:%y.%m.%d}</span>'\n      },\n      navigator: {\n        enabled: !isOpen,\n        liveRedraw: true,\n        series: {\n          type: 'gantt',\n          pointPlacement: 0.5,\n          pointPadding: 0.25\n        }\n      },\n      rangeSelector: {\n        //1개월, 3개월, 6개월, 1년 바꿀수 있음\n        enabled: !isOpen,\n        inputDateFormat: '%Y-%m-%d',\n        buttons: [{\n          type: 'month',\n          count: 1,\n          text: '1m',\n          title: '1개월 보기'\n        }, {\n          type: 'month',\n          count: 3,\n          text: '3m',\n          title: '3개월 보기'\n        }, {\n          type: 'month',\n          count: 6,\n          text: '6m',\n          title: '6개월 보기'\n        }, {\n          type: 'ytd',\n          text: 'YTD',\n          title: '연초부터 현재까지'\n        }, {\n          type: 'year',\n          count: 1,\n          text: '1y',\n          title: '1년 보기'\n        }, {\n          type: 'all',\n          text: 'All',\n          title: '전체보기'\n        }]\n      }\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 257,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(Modal, {\n    isOpen: isOpen,\n    toggle: function toggle() {\n      return setIsOpen(!isOpen);\n    },\n    id: \"news-close-modal\",\n    className: \"modal-content\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 371,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(ModalHeader, {\n    toggle: function toggle() {\n      return setIsOpen(!isOpen);\n    },\n    id: \"news-close-modal-label\",\n    className: \"modal-header\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 372,\n      columnNumber: 9\n    }\n  }, \"\\uCD94\\uAC00\"), /*#__PURE__*/React.createElement(ModalBody, {\n    className: \"bg-white modal-body\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 376,\n      columnNumber: 9\n    }\n  }, modalMenu === \"resource\" ?\n  /*#__PURE__*/\n  // 구분 추가\n  React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Input, {\n    type: \"text\",\n    maxLength: \"20\",\n    style: {\n      width: 100 + '%'\n    },\n    value: newResource,\n    onChange: function onChange(e) {\n      return setNewResource(e.target.value);\n    },\n    placeholder: \"\\uCD94\\uAC00\\uD560 \\uAD6C\\uBD84\\uC744 \\uC785\\uB825\\uD574\\uC8FC\\uC138\\uC694.\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 379,\n      columnNumber: 15\n    }\n  })) : modalMenu === \"sub\" ?\n  /*#__PURE__*/\n  // 작업 추가\n  React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"strong\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 383,\n      columnNumber: 17\n    }\n  }, \"\\uAD6C\\uBD84\"), /*#__PURE__*/React.createElement(\"br\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 383,\n      columnNumber: 36\n    }\n  }), /*#__PURE__*/React.createElement(\"select\", {\n    className: \"form-control\",\n    id: \"resourceYOfNewSub\",\n    value: resourceYOfNewSub,\n    onChange: function onChange(e) {\n      return setResourceYOfNewSub(e.target.value);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 384,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"option\", {\n    value: \"\",\n    disabled: true,\n    hidden: true,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 385,\n      columnNumber: 19\n    }\n  }), data.map(function (d, idx) {\n    if (d.resource !== undefined) {\n      return /*#__PURE__*/React.createElement(\"option\", {\n        key: idx,\n        value: Number(d.y),\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 388,\n          columnNumber: 31\n        }\n      }, d.resource);\n    }\n  })), /*#__PURE__*/React.createElement(\"br\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 392,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"strong\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 394,\n      columnNumber: 17\n    }\n  }, \"\\uC791\\uC5C5\"), /*#__PURE__*/React.createElement(\"br\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 394,\n      columnNumber: 36\n    }\n  }), /*#__PURE__*/React.createElement(Input, {\n    type: \"text\",\n    maxLength: \"20\",\n    style: {\n      width: 100 + '%'\n    },\n    value: newSub,\n    onChange: function onChange(e) {\n      return setNewSub(e.target.value);\n    },\n    placeholder: \"\\uCD94\\uAC00\\uD560 \\uC791\\uC5C5\\uC744 \\uC785\\uB825\\uD574\\uC8FC\\uC138\\uC694.\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 395,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 396,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"strong\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 397,\n      columnNumber: 17\n    }\n  }, \"\\uB2F4\\uB2F9\\uC790\"), /*#__PURE__*/React.createElement(\"br\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 397,\n      columnNumber: 37\n    }\n  }), /*#__PURE__*/React.createElement(Input, {\n    type: \"text\",\n    maxLength: \"20\",\n    style: {\n      width: 100 + '%'\n    },\n    value: newSubEname,\n    onChange: function onChange(e) {\n      return setNewSubEname(e.target.value);\n    },\n    placeholder: \"\\uB2F4\\uB2F9\\uC790\\uB97C \\uC785\\uB825\\uD574\\uC8FC\\uC138\\uC694.\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 398,\n      columnNumber: 17\n    }\n  })) :\n  /*#__PURE__*/\n  // 이벤트 추가\n  React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"strong\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 402,\n      columnNumber: 19\n    }\n  }, \"\\uAD6C\\uBD84\"), /*#__PURE__*/React.createElement(\"br\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 402,\n      columnNumber: 38\n    }\n  }), /*#__PURE__*/React.createElement(\"select\", {\n    className: \"form-control\",\n    id: \"resourceYOfNewEvent\",\n    value: resourceYOfNewEvent,\n    onChange: function onChange(e) {\n      return setResourceYOfNewEvent(e.target.value);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 403,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"option\", {\n    value: \"\",\n    disabled: true,\n    hidden: true,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 404,\n      columnNumber: 21\n    }\n  }), data.map(function (d, idx) {\n    if (d.resource !== undefined) {\n      return /*#__PURE__*/React.createElement(\"option\", {\n        key: idx,\n        value: Number(d.y),\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 407,\n          columnNumber: 33\n        }\n      }, d.resource);\n    }\n  })), /*#__PURE__*/React.createElement(\"br\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 411,\n      columnNumber: 19\n    }\n  }), /*#__PURE__*/React.createElement(\"strong\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 413,\n      columnNumber: 19\n    }\n  }, \"\\uC791\\uC5C5\"), /*#__PURE__*/React.createElement(\"br\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 413,\n      columnNumber: 38\n    }\n  }), /*#__PURE__*/React.createElement(\"select\", {\n    className: \"form-control\",\n    id: \"subYOfNewEvent\",\n    value: subYOfNewEvent,\n    onChange: function onChange(e) {\n      return setSubYOfNewEvent(e.target.value);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 414,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"option\", {\n    value: \"\",\n    disabled: true,\n    hidden: true,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 415,\n      columnNumber: 21\n    }\n  }), data.map(function (d, idx) {\n    if (d.resourceId === Number(resourceYOfNewEvent) && d.name !== subName) {\n      subName = d.name;\n      return /*#__PURE__*/React.createElement(\"option\", {\n        key: idx,\n        value: d.y,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 419,\n          columnNumber: 33\n        }\n      }, d.name);\n    }\n  })), /*#__PURE__*/React.createElement(\"br\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 423,\n      columnNumber: 19\n    }\n  }), /*#__PURE__*/React.createElement(\"strong\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 425,\n      columnNumber: 19\n    }\n  }, \"\\uC774\\uBCA4\\uD2B8\"), /*#__PURE__*/React.createElement(\"br\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 425,\n      columnNumber: 39\n    }\n  }), \"\\uC2DC\\uC791 \\uB0A0\\uC9DC\", /*#__PURE__*/React.createElement(Input, {\n    type: \"date\",\n    maxLength: \"20\",\n    value: newEventStartDate,\n    onChange: function onChange(e) {\n      return setNewEventStartDate(e.target.value);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 427,\n      columnNumber: 24\n    }\n  }), \"\\uC885\\uB8CC \\uB0A0\\uC9DC\", /*#__PURE__*/React.createElement(Input, {\n    type: \"date\",\n    maxLength: \"20\",\n    value: newEventEndDate,\n    onChange: function onChange(e) {\n      return setNewEventEndDate(e.target.value);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 428,\n      columnNumber: 24\n    }\n  }))), /*#__PURE__*/React.createElement(ModalFooter, {\n    className: \"modal-footer\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 434,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    className: \"text-capitalize btn btn-warning\",\n    onClick: function onClick() {\n      if (modalMenu === \"resource\") {\n        if (!newResource) {\n          addNotification(\"값을 모두 입력해주세요\", \"error\");\n          return;\n        }\n\n        addResource(newResource);\n      } else if (modalMenu === \"sub\") {\n        if (!resourceYOfNewSub || !newSub || !newSubEname) {\n          addNotification(\"값을 모두 입력해주세요\", \"error\");\n          return;\n        }\n\n        addSub(resourceYOfNewSub);\n      } else {\n        if (!subYOfNewEvent || !newEventStartDate || !newEventEndDate) {\n          addNotification(\"값을 모두 입력해주세요\", \"error\");\n          return;\n        }\n\n        addEvent(subYOfNewEvent);\n      }\n\n      toggle();\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 435,\n      columnNumber: 11\n    }\n  }, \"\\uCD94\\uAC00\"), \" \", /*#__PURE__*/React.createElement(Button, {\n    className: \"text-capitalize btn btn-secondary\",\n    onClick: function onClick() {\n      toggle();\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 462,\n      columnNumber: 11\n    }\n  }, \"\\uCDE8\\uC18C\"))));\n};\n\nexport default HighChartsPage;","map":{"version":3,"sources":["C:/Users/suresoft/Desktop/vomproject/sure-frontend/src/pages/charts/HighCharts.js"],"names":["React","useState","useEffect","useCallback","Table","Button","Input","Modal","ModalHeader","ModalBody","ModalFooter","Highcharts","HighchartsReact","exporting","exportData","accessibility","highchartsGantt","useCookies","Widget","axios","uuid","toast","e","HighChartsPage","props","cookies","removeCookie","data","setData","isOpen","setIsOpen","modalMenu","setModalMenu","newResource","setNewResource","resourceYOfNewSub","setResourceYOfNewSub","newSub","setNewSub","newSubEname","setNewSubEname","resourceYOfNewEvent","setResourceYOfNewEvent","subYOfNewEvent","setSubYOfNewEvent","subName","newEventStartDate","setNewEventStartDate","newEventEndDate","setNewEventEndDate","toastOptions","position","autoClose","closeOnClick","pauseOnHover","draggable","addNotification","message","type","id","error","toastId","info","warn","toggle","parseData","defaults","headers","common","token","all","get","process","env","REACT_APP_API_URL","then","spread","res1","res2","res3","rawResources","rawSub","rawEvents","y_count","i_resource","push","resource","name","pointWidth","y","resourceId","sub","filter","item","resource_id","i_sub","events","sub_id","length","담당자","color","i_event","start","Date","UTC","split","end","console","log","catch","err","alert","window","location","href","addResource","addSub","newSubData","Number","resourceIndex","findIndex","d","nextResourceIndex","slice","undefined","targetIndex","splice","map","addEvent","subData","newEventData","reverse","fontSize","fontWeight","chart","click","animation","title","text","yAxis","labels","indentation","align","overflow","step","style","whiteSpace","grid","cellHeight","columns","format","series","tooltip","pointFormat","navigator","enabled","liveRedraw","pointPlacement","pointPadding","rangeSelector","inputDateFormat","buttons","count","width","target","value","idx"],"mappings":"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","sourcesContent":["import React, { useState, useEffect, useCallback } from 'react';\r\nimport {\r\n  Table,\r\n  Button,\r\n  Input,\r\n  Modal,\r\n  ModalHeader,\r\n  ModalBody,\r\n  ModalFooter\r\n} from \"reactstrap\";\r\nimport Highcharts from 'highcharts';\r\nimport HighchartsReact from 'highcharts-react-official'\r\nimport exporting from 'highcharts/modules/exporting';\r\nimport exportData from 'highcharts/modules/export-data';\r\nimport accessibility from 'highcharts/modules/accessibility';\r\nimport highchartsGantt from \"highcharts/modules/gantt\";\r\nimport { useCookies } from 'react-cookie';\r\nimport Widget from '../../components/Widget/Widget';\r\nimport axios from 'axios';\r\nimport uuid from \"uuid/v4\";\r\nimport { toast } from \"react-toastify\";\r\nimport \"react-toastify/dist/ReactToastify.css\";\r\nimport e from 'cors';\r\n\r\nexporting(Highcharts);\r\nexportData(Highcharts);\r\naccessibility(Highcharts);\r\nhighchartsGantt(Highcharts);\r\n\r\nconst HighChartsPage = props => {\r\n\r\n  const [cookies, removeCookie ] = useCookies(['token']);\r\n  const [data, setData] = useState([]);\r\n  const [isOpen, setIsOpen] = useState(false);\r\n  const [modalMenu, setModalMenu] = useState(\"\");\r\n\r\n  // 구분 추가 시 사용\r\n  const [newResource, setNewResource] = useState(\"\");\r\n\r\n  // 작업 추가 시 사용\r\n  const [resourceYOfNewSub, setResourceYOfNewSub] = useState(\"\");\r\n  const [newSub, setNewSub] = useState(\"\");\r\n  const [newSubEname, setNewSubEname] = useState(\"\");\r\n\r\n  // 이벤트 추가 시 사용\r\n  const [resourceYOfNewEvent, setResourceYOfNewEvent] = useState(\"\");\r\n  const [subYOfNewEvent, setSubYOfNewEvent] = useState(\"\");\r\n  let subName = \"\"; // 이벤트 추가 시, 구분에 따른 작업을 select 옵션으로 보여줄 건데, 이 때 작업이 중복되지 않기 위해 사용하는 변수\r\n  const [newEventStartDate, setNewEventStartDate] = useState(\"\");\r\n  const [newEventEndDate, setNewEventEndDate] = useState(\"\");\r\n\r\n\r\n  // 토스트 옵션 (고정값이므로 state로 관리 X)\r\n  const toastOptions =  {\r\n    position: \"top-center\",\r\n    autoClose: 2000,\r\n    closeOnClick: false,\r\n    pauseOnHover: false,\r\n    draggable: true,\r\n  };\r\n\r\n  // 토스트 (알림창)\r\n  const addNotification = (message, type) => {\r\n    let id = uuid();\r\n    if (type === \"error\") { // 빨간색\r\n      toast.error(<div>{message}</div>, { ...toastOptions, toastId: id });\r\n    } else if (type === \"info\") { // 초록색\r\n      toast.info(<div>{message}</div>, { ...toastOptions, toastId: id });\r\n    } else if (type === \"success\") { // 노란색\r\n      toast.warn(<div>{message}</div>, { ...toastOptions, toastId: id,});\r\n    }\r\n  };\r\n\r\n  // 모달 토글 (껐다 켰다)\r\n  const toggle = () => {\r\n    setIsOpen(!isOpen);\r\n  }\r\n  \r\n  // 전체 데이터 로드\r\n  const parseData = () => {\r\n    axios.defaults.headers.common['Authorization'] = cookies.token;\r\n    axios\r\n    .all([\r\n      axios.get(`http://${process.env.REACT_APP_API_URL}/wbs/resources?id=172&year=2021`),\r\n      axios.get(`http://${process.env.REACT_APP_API_URL}/wbs/sub`),\r\n      axios.get(`http://${process.env.REACT_APP_API_URL}/wbs/events`),\r\n    ])\r\n    .then(axios.spread((res1, res2, res3) => {\r\n      const rawResources = res1.data;\r\n      const rawSub = res2.data;\r\n      const rawEvents = res3.data;\r\n      const data = [];\r\n      let y_count = 0;\r\n\r\n      for (let i_resource = 0; i_resource < rawResources.length; i_resource++) {\r\n        data.push({\r\n          resource: rawResources[i_resource].name,\r\n          pointWidth: 0,\r\n          y: y_count++\r\n        });\r\n\r\n        var resourceId = y_count-1;\r\n        const sub = rawSub.filter((item) => rawResources[i_resource].id === item.resource_id);\r\n\r\n        for (let i_sub = 0; i_sub < sub.length; i_sub++) {\r\n          const events = rawEvents.filter((item) => sub[i_sub].id === item.sub_id);\r\n          if(events.length === 0) {\r\n            data.push({\r\n              resourceId: resourceId,\r\n              name: sub[i_sub].name,\r\n              담당자: sub[i_sub].담당자,\r\n              color: rawResources[i_resource].color,\r\n              y: y_count,\r\n              // pointWidth: 0\r\n              })\r\n          } else {\r\n            for (let i_event = 0; i_event < events.length; i_event++) {\r\n              data.push({\r\n                resourceId: resourceId,\r\n                name: sub[i_sub].name,\r\n                start: Date.UTC(events[i_event].start.split('-')[0], events[i_event].start.split('-')[1] - 1, events[i_event].start.split('-')[2]),\r\n                end: Date.UTC(events[i_event].end.split('-')[0], events[i_event].end.split('-')[1] - 1, events[i_event].end.split('-')[2]),\r\n                담당자: sub[i_sub].담당자,\r\n                color: rawResources[i_resource].color,\r\n                y: y_count})\r\n            }\r\n          }\r\n          y_count++;\r\n        }\r\n      }\r\n      console.log(\"데이터\", data);\r\n      setData(data);\r\n    }))\r\n    .catch(err => {\r\n      if (cookies.token) {\r\n        removeCookie('token');\r\n      }\r\n      alert(\"세션이 만료되었습니다. 다시 로그인 해주세요\");\r\n      window.location.href = \"/\";\r\n    });\r\n  }\r\n\r\n  // 구분 추가\r\n  const addResource = (newResource) => {\r\n    data.push({\r\n      resource: newResource,\r\n      pointWidth: 0,\r\n      y: data.length !== 0 ? data[data.length-1].y + 1 : 0\r\n    })\r\n\r\n    console.log(\"데이터 업데이트: \", data);\r\n\r\n    setData(data);\r\n    setNewResource(\"\");\r\n  }\r\n\r\n  // 작업 추가\r\n  const addSub = (resourceYOfNewSub) => {\r\n    let newSubData = {\r\n      resourceId: Number(resourceYOfNewSub),\r\n      name: newSub,\r\n      담당자: newSubEname,\r\n      color: \"#000000\",\r\n      // pointWidth: 0,\r\n      y: 0\r\n    };\r\n\r\n    var resourceIndex = data.findIndex(function(d) { return d.y === Number(resourceYOfNewSub) });\r\n    var nextResourceIndex = data.slice(resourceIndex+1).findIndex(function(d) { return d.resource !== undefined });\r\n\r\n    if(nextResourceIndex !== -1) { // 마지막 구분이 아닐 때\r\n      var targetIndex = nextResourceIndex + resourceIndex + 1; //  추가할 곳\r\n      \r\n      newSubData.y = data[targetIndex].y;\r\n\r\n      data.splice(targetIndex, 0, newSubData);\r\n      data.slice(targetIndex+1).map(d => {\r\n        d.y += 1;\r\n        if(d.resource === undefined) {\r\n          d.resourceId += 1;\r\n        }\r\n      });\r\n      \r\n    } else { // 마지막 구분일 때\r\n      newSubData.y = data[data.length-1].y+1;\r\n      data.push(newSubData);\r\n    }\r\n\r\n    setData(data);\r\n    setResourceYOfNewSub(\"\");\r\n    setNewSub(\"\");\r\n    setNewSubEname(\"\");\r\n  }\r\n\r\n  // 이벤트 추가\r\n  const addEvent = (subYOfNewEvent) => {\r\n    var subData = data[data.findIndex(function(d) { return d.y === Number(subYOfNewEvent) })];\r\n\r\n    let newEventData = {\r\n      resourceId: subData.resourceId,\r\n      name: subData.name,\r\n      start: Date.UTC(newEventStartDate.split('-')[0], newEventStartDate.split('-')[1] - 1, newEventStartDate.split('-')[2]),\r\n      end: Date.UTC(newEventEndDate.split('-')[0], newEventEndDate.split('-')[1] - 1, newEventEndDate.split('-')[2]),\r\n      담당자: subData.담당자,\r\n      color: subData.color,\r\n      y: subData.y\r\n    };\r\n\r\n    var targetIndex = (([...data].reverse().findIndex(function(d) { return d.y === Number(subYOfNewEvent) }) - (data.length-1)) * -1) + 1;\r\n    console.log(\"타겟 인덱스: \",targetIndex);\r\n\r\n    data.splice(targetIndex, 0, newEventData);\r\n\r\n    setData(data);\r\n    setResourceYOfNewEvent(\"\");\r\n    setSubYOfNewEvent(\"\");\r\n    setNewEventStartDate(\"\");\r\n    setNewEventEndDate(\"\");\r\n\r\n    console.log(\"데이터: \", data);\r\n  }\r\n\r\n  useEffect(() => parseData(), []);\r\n\r\n  return (\r\n    <div>\r\n      <Button \r\n        className=\"text-capitalize btn btn-warning\" \r\n        onClick={() => {\r\n          setModalMenu(\"resource\");\r\n          setIsOpen(!isOpen);\r\n        }}\r\n      >\r\n        구분 추가\r\n      </Button>\r\n      <Button \r\n        className=\"text-capitalize btn btn-warning\" \r\n        onClick={() => {\r\n          setModalMenu(\"sub\");\r\n          setIsOpen(!isOpen);\r\n        }}\r\n      >\r\n        작업 추가\r\n      </Button>\r\n\r\n      <Button \r\n        className=\"text-capitalize btn btn-warning\" \r\n        onClick={() => {\r\n          setModalMenu(\"event\");\r\n          setIsOpen(!isOpen);\r\n        }}\r\n      >\r\n        이벤트 추가\r\n      </Button>\r\n\r\n      <Widget title={<p style={{ fontSize:30, fontWeight: 700 }}>WBS</p>}>\r\n          <HighchartsReact\r\n          highcharts={Highcharts}\r\n          constructorType={\"ganttChart\"}\r\n          options={{\r\n            chart: {\r\n              events: {\r\n                click: function(e) {\r\n                  console.log(\r\n                      // Highcharts.dateFormat('%Y-%m-%d %H:%M:%S', e.xAxis[0].value), e.yAxis[0].value\r\n                      this\r\n                  )\r\n                }\r\n              },\r\n              animation: false\r\n            },\r\n            title: {\r\n              text: '프로젝트 명'\r\n            },\r\n            yAxis: {\r\n              labels: {\r\n                indentation: 100,\r\n                align: \"center\",\r\n                overflow: \"allow\",\r\n                step: 1,\r\n                style: {\r\n                  fontSize: \"10px\", // 왼쪽 표 글씨 사이즈\r\n                  whiteSpace: \"break-spaces\",\r\n                  // textOverflow: \"ellipsis\"\r\n                }\r\n              },\r\n              type: 'category',\r\n              grid: {\r\n                cellHeight: 300,\r\n                columns: [{\r\n                  title: {\r\n                    text: '구분',\r\n                  },\r\n                  labels: {\r\n                    format: '{point.resource}'\r\n                  }\r\n                }, {\r\n                  title: {\r\n                    text: '작업',\r\n                  },\r\n                  labels: {\r\n                    format: '{point.name}'\r\n                  }\r\n                }, {\r\n                  title: {\r\n                    text: '담당자',\r\n                  },\r\n                  labels: {\r\n                    format: '{point.담당자}'\r\n                  }\r\n                }]\r\n              }\r\n            },\r\n            series: [{\r\n              events: {\r\n                click: function(e) {\r\n                  console.log(e);\r\n                }\r\n              },\r\n              data: data,\r\n            }],\r\n            tooltip: {\r\n              pointFormat: '<span><strong>{point.name}</strong></span><br/><span>{point.start:%y.%m.%d}~{point.end:%y.%m.%d}</span>'\r\n            },\r\n            navigator: {\r\n              enabled: !isOpen,\r\n              liveRedraw: true,\r\n              series: {\r\n                type: 'gantt',\r\n                pointPlacement: 0.5,\r\n                pointPadding: 0.25\r\n              },\r\n            },\r\n            rangeSelector: { //1개월, 3개월, 6개월, 1년 바꿀수 있음\r\n              enabled: !isOpen,\r\n              inputDateFormat: '%Y-%m-%d',\r\n              buttons: [{\r\n                type: 'month',\r\n                count: 1,\r\n                text: '1m',\r\n                title: '1개월 보기'\r\n              }, {\r\n                type: 'month',\r\n                count: 3,\r\n                text: '3m',\r\n                title: '3개월 보기'\r\n              }, {\r\n                type: 'month',\r\n                count: 6,\r\n                text: '6m',\r\n                title: '6개월 보기'\r\n              }, {\r\n                type: 'ytd',\r\n                text: 'YTD',\r\n                title: '연초부터 현재까지'\r\n              }, {\r\n                type: 'year',\r\n                count: 1,\r\n                text: '1y',\r\n                title: '1년 보기'\r\n              }, {\r\n                type: 'all',\r\n                text: 'All',\r\n                title: '전체보기'\r\n              }]\r\n            },\r\n            \r\n          }} />\r\n      </Widget>\r\n\r\n      <Modal isOpen={isOpen} toggle={() => setIsOpen(!isOpen)} id=\"news-close-modal\" className=\"modal-content\">\r\n        <ModalHeader toggle={() => setIsOpen(!isOpen)} id=\"news-close-modal-label\" className=\"modal-header\">\r\n           추가\r\n        </ModalHeader>\r\n        \r\n        <ModalBody className=\"bg-white modal-body\">\r\n          {modalMenu === \"resource\" ? // 구분 추가\r\n            <>\r\n              <Input type='text' maxLength='20' style={{width: 100+'%'}} value={newResource} onChange={(e) => setNewResource(e.target.value)} placeholder='추가할 구분을 입력해주세요.'/>\r\n            </>\r\n            : modalMenu === \"sub\" ? // 작업 추가\r\n              <>\r\n                <strong>구분</strong><br />\r\n                <select className=\"form-control\" id=\"resourceYOfNewSub\" value={resourceYOfNewSub} onChange={(e) => setResourceYOfNewSub(e.target.value)}>\r\n                  <option value=\"\" disabled hidden></option>\r\n                  {data.map((d, idx) =>{\r\n                    if(d.resource !== undefined) {\r\n                      return (<option key={idx} value={Number(d.y)}>{d.resource}</option>);\r\n                    }\r\n                  })}\r\n                </select>\r\n                <br />\r\n                \r\n                <strong>작업</strong><br />\r\n                <Input type='text' maxLength='20' style={{width: 100+'%'}} value={newSub} onChange={(e) => setNewSub(e.target.value)} placeholder='추가할 작업을 입력해주세요.'/>\r\n                <br />\r\n                <strong>담당자</strong><br />\r\n                <Input type='text' maxLength='20' style={{width: 100+'%'}} value={newSubEname} onChange={(e) => setNewSubEname(e.target.value)} placeholder='담당자를 입력해주세요.'/>\r\n              </>\r\n              : // 이벤트 추가\r\n                <>\r\n                  <strong>구분</strong><br />\r\n                  <select className=\"form-control\" id=\"resourceYOfNewEvent\" value={resourceYOfNewEvent} onChange={(e) => setResourceYOfNewEvent(e.target.value)}>\r\n                    <option value=\"\" disabled hidden></option>\r\n                    {data.map((d, idx) =>{\r\n                      if(d.resource !== undefined) {\r\n                        return (<option key={idx} value={Number(d.y)}>{d.resource}</option>);\r\n                      }\r\n                    })}\r\n                  </select>\r\n                  <br />\r\n                  \r\n                  <strong>작업</strong><br />\r\n                  <select className=\"form-control\" id=\"subYOfNewEvent\" value={subYOfNewEvent} onChange={(e) => setSubYOfNewEvent(e.target.value)}>\r\n                    <option value=\"\" disabled hidden></option>\r\n                    {data.map((d, idx) => {\r\n                      if(d.resourceId === Number(resourceYOfNewEvent) && d.name !== subName) {\r\n                        subName = d.name;\r\n                        return (<option key={idx} value={d.y}>{d.name}</option>);\r\n                      }\r\n                    })}\r\n                  </select>\r\n                  <br />\r\n\r\n                  <strong>이벤트</strong><br />\r\n                  \r\n                  시작 날짜<Input type='date' maxLength='20' value={newEventStartDate} onChange={(e) => setNewEventStartDate(e.target.value)}/>\r\n                  종료 날짜<Input type='date' maxLength='20' value={newEventEndDate} onChange={(e) => setNewEventEndDate(e.target.value)}/>\r\n\r\n                </>\r\n          }\r\n        </ModalBody>\r\n\r\n        <ModalFooter className=\"modal-footer\">\r\n          <Button className=\"text-capitalize btn btn-warning\"\r\n            onClick={() => {\r\n              if(modalMenu === \"resource\") {\r\n                if(!newResource) {\r\n                  addNotification(\"값을 모두 입력해주세요\", \"error\");\r\n                  return;\r\n                }\r\n                addResource(newResource);\r\n              } else if(modalMenu === \"sub\"){\r\n                if(!resourceYOfNewSub || !newSub || !newSubEname) {\r\n                  addNotification(\"값을 모두 입력해주세요\", \"error\");\r\n                  return;\r\n                }\r\n                addSub(resourceYOfNewSub);\r\n              } else {\r\n                if(!subYOfNewEvent || !newEventStartDate || !newEventEndDate) {\r\n                  addNotification(\"값을 모두 입력해주세요\", \"error\");\r\n                  return;\r\n                }\r\n                addEvent(subYOfNewEvent);\r\n              }\r\n\r\n              toggle();\r\n            }}\r\n          >\r\n            추가\r\n          </Button>{\" \"}\r\n          <Button className=\"text-capitalize btn btn-secondary\"\r\n            onClick={() => {\r\n              toggle();\r\n            }}\r\n          >\r\n            취소\r\n          </Button>\r\n        </ModalFooter>\r\n      </Modal>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default HighChartsPage;\r\n"]},"metadata":{},"sourceType":"module"}