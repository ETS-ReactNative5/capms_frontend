{"ast":null,"code":"import _toConsumableArray from \"C:\\\\Users\\\\suresoft\\\\Desktop\\\\vomproject\\\\sure-frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/toConsumableArray\";\nimport _slicedToArray from \"C:\\\\Users\\\\suresoft\\\\Desktop\\\\vomproject\\\\sure-frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"C:\\\\Users\\\\suresoft\\\\Desktop\\\\vomproject\\\\sure-frontend\\\\src\\\\pages\\\\project\\\\WbsList.js\";\n\nimport React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport { Col, Row, Table } from 'reactstrap';\nimport Widget from '../../components/Widget/Widget';\nimport { Link } from 'react-router-dom';\nimport { useCookies } from 'react-cookie';\nimport moment from 'moment';\n\nvar WbsList = function WbsList() {\n  var authority = JSON.parse(localStorage.getItem(\"userInfo\")) ? JSON.parse(localStorage.getItem(\"userInfo\")).authority : \"\";\n\n  var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      projects = _useState2[0],\n      setProjects = _useState2[1];\n\n  var _useState3 = useState([]),\n      _useState4 = _slicedToArray(_useState3, 2),\n      members = _useState4[0],\n      setMembers = _useState4[1];\n\n  var _useState5 = useState(moment(new Date()).format('YYYY')),\n      _useState6 = _slicedToArray(_useState5, 2),\n      year = _useState6[0],\n      setYear = _useState6[1];\n\n  var _useState7 = useState(new Date().getMonth() < 6 ? true : false),\n      _useState8 = _slicedToArray(_useState7, 2),\n      term = _useState8[0],\n      setTerm = _useState8[1]; //상반기 == true, 하반기 == false\n\n\n  var _useCookies = useCookies(['token']),\n      _useCookies2 = _slicedToArray(_useCookies, 2),\n      cookies = _useCookies2[0],\n      removeCookie = _useCookies2[1];\n\n  var sortList = function sortList(e) {\n    var arrayCopy = _toConsumableArray(projects);\n\n    switch (e.target.name) {\n      case \"ascSu\":\n        arrayCopy.sort(function (a, b) {\n          return a.팀수주.localeCompare(b.팀수주);\n        });\n        break;\n\n      case \"descSu\":\n        arrayCopy.sort(function (a, b) {\n          return b.팀수주.localeCompare(a.팀수주);\n        });\n        break;\n\n      case \"ascMa\":\n        arrayCopy.sort(function (a, b) {\n          return a.팀매출.localeCompare(b.팀매출);\n        });\n        break;\n\n      case \"descMa\":\n        arrayCopy.sort(function (a, b) {\n          return b.팀매출.localeCompare(a.팀매출);\n        });\n        break;\n\n      case \"ascStatus\":\n        arrayCopy.sort(function (a, b) {\n          return a.상태.localeCompare(b.상태);\n        });\n        break;\n\n      case \"descStatus\":\n        arrayCopy.sort(function (a, b) {\n          return b.상태.localeCompare(a.상태);\n        });\n        break;\n\n      default:\n        return;\n    }\n\n    setProjects(arrayCopy);\n  };\n\n  var setClassName = function setClassName(status) {\n    switch (status) {\n      case \"1.예산확보\":\n      case \"2.고객의사\":\n      case \"3.제안단계\":\n        return \"project__status_start\";\n\n      case \"4.업체선정\":\n      case \"5.진행예정\":\n        return \"project__status_ready\";\n\n      case \"6.진행중\":\n        return \"project__status_progress\";\n\n      case \"7.종료\":\n        return \"project__status_end\";\n\n      case \"8.Dropped\":\n        return \"project__status_dropped\";\n\n      default:\n        return \"project__status_progress\";\n    }\n  };\n\n  useEffect(function () {\n    return findAllProjects();\n  }, []);\n\n  var findAllProjects = function findAllProjects() {\n    if (authority == 0 || authority == 1) {\n      axios.defaults.headers.common['Authorization'] = cookies.token;\n      axios.all([axios.get(\"http://\".concat(process.env.REACT_APP_API_URL, \"/projects\")), axios.get(\"http://\".concat(process.env.REACT_APP_API_URL, \"/members\"))]).then(axios.spread(function (res1, res2) {\n        var _projects = res1.data.sort(function (a, b) {\n          return a.상태.localeCompare(b.상태);\n        });\n\n        setProjects(_projects);\n        setMembers(res2.data);\n      })).catch(function (err) {\n        if (cookies.token) {\n          removeCookie('token');\n        }\n\n        alert(\"세션이 만료되었습니다. 다시 로그인 해주세요\");\n        window.location.href = \"/\";\n      });\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Row, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 9\n    }\n  }, authority == 0 || authority == 1 ? /*#__PURE__*/React.createElement(Widget, {\n    title: /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        display: 'flex',\n        flexDirection: 'row',\n        justifyContent: 'space-between',\n        marginBottom: 1 + 'rem'\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      style: {\n        fontSize: 30,\n        fontWeight: 700\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 17\n      }\n    }, \"WBS\"), /*#__PURE__*/React.createElement(\"select\", {\n      className: \"form-control\",\n      style: {\n        width: 10 + 'rem'\n      },\n      name: \"year\",\n      value: year,\n      onChange: function onChange(e) {\n        return setYear(e.target.value);\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 17\n      }\n    }, _toConsumableArray(Array(moment(new Date()).format('YYYY') - 2019).keys()).map(function (i) {\n      return /*#__PURE__*/React.createElement(\"option\", {\n        key: i,\n        value: moment(new Date()).format('YYYY') - i,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 28\n        }\n      }, moment(new Date()).format('YYYY') - i);\n    }))),\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Table, {\n    className: \"project-list__table table-sm\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"thead\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"tr\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"th\", {\n    className: \"col-1 project-list__th\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"project-list__th_div\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 23\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 25\n    }\n  }, \"\\uD300(\\uC218\\uC8FC)\"), /*#__PURE__*/React.createElement(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    className: \"orderBtn glyphicon glyphicon-collapse-top\",\n    name: \"ascSu\",\n    onClick: sortList,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 27\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    className: \"orderBtn glyphicon glyphicon-collapse\",\n    name: \"descSu\",\n    onClick: sortList,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 27\n    }\n  })))), /*#__PURE__*/React.createElement(\"th\", {\n    className: \"col-1 project-list__th\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"project-list__th_div\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 23\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 25\n    }\n  }, \"\\uD300(\\uB9E4\\uCD9C)\"), /*#__PURE__*/React.createElement(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    className: \"orderBtn glyphicon glyphicon-collapse-top\",\n    name: \"ascMa\",\n    onClick: sortList,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 27\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    className: \"orderBtn glyphicon glyphicon-collapse\",\n    name: \"descMa\",\n    onClick: sortList,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 27\n    }\n  })))), /*#__PURE__*/React.createElement(\"th\", {\n    className: \"col-3 project-list__th\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 21\n    }\n  }, \"\\uD504\\uB85C\\uC81D\\uD2B8 \\uBA85\"), /*#__PURE__*/React.createElement(\"th\", {\n    className: \"col-1 project-list__th\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"project-list__th_div\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 23\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 25\n    }\n  }, \"\\uC0C1\\uD0DC\"), /*#__PURE__*/React.createElement(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    className: \"orderBtn glyphicon glyphicon-collapse-top\",\n    name: \"ascStatus\",\n    onClick: sortList,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 27\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    className: \"orderBtn glyphicon glyphicon-collapse\",\n    name: \"descStatus\",\n    onClick: sortList,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 27\n    }\n  })))), /*#__PURE__*/React.createElement(\"th\", {\n    className: \"col-1 project-list__th\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 142,\n      columnNumber: 21\n    }\n  }, \"PM\"))), /*#__PURE__*/React.createElement(\"tbody\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 17\n    }\n  }, projects.filter(function (project) {\n    return project.year == year;\n  }).map(function (project, index) {\n    var member = members.find(function (_ref) {\n      var id = _ref.id;\n      return id === project.PM;\n    });\n    return /*#__PURE__*/React.createElement(\"tr\", {\n      key: index,\n      className: setClassName(project.상태),\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 151,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"td\", {\n      className: \"col-1 project-list__td\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 152,\n        columnNumber: 23\n      }\n    }, project.팀수주), /*#__PURE__*/React.createElement(\"td\", {\n      className: \"col-1 project-list__td\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 153,\n        columnNumber: 23\n      }\n    }, project.팀매출), /*#__PURE__*/React.createElement(\"td\", {\n      className: \"col-3 project-list__td\",\n      style: {\n        whiteSpace: 'break-spaces'\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 154,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(Link, {\n      to: {\n        pathname: \"/app/projects/wbs/\".concat(project.id, \"/\").concat(year)\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 155,\n        columnNumber: 25\n      }\n    }, project.프로젝트명)), /*#__PURE__*/React.createElement(\"td\", {\n      className: \"col-1 project-list__td\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 159,\n        columnNumber: 23\n      }\n    }, project.상태), /*#__PURE__*/React.createElement(\"td\", {\n      className: \"col-1 project-list__td\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 160,\n        columnNumber: 23\n      }\n    }, member ? member.name : project.PM));\n  })))) : /*#__PURE__*/React.createElement(Widget, {\n    title: /*#__PURE__*/React.createElement(\"p\", {\n      style: {\n        fontSize: 30,\n        fontWeight: 700\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 168,\n        columnNumber: 15\n      }\n    }, \"\\uAD8C\\uD55C\\uC774 \\uC5C6\\uC2B5\\uB2C8\\uB2E4\"),\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 167,\n      columnNumber: 13\n    }\n  })))); //   const authority = JSON.parse(localStorage.getItem(\"userInfo\")) ? JSON.parse(localStorage.getItem(\"userInfo\")).authority : \"\";\n  //   const [cookies, removeCookie ] = useCookies(['token']);\n  //   const [projects , setProjects] = useState([]);\n  //   const [members , setMembers] = useState([]);\n  //   const sortList = (e) => {\n  //     let arrayCopy = [...projects];\n  //     switch (e.target.name) {\n  //       case \"ascSu\":\n  //         arrayCopy.sort((a, b) => a.팀수주.localeCompare(b.팀수주));\n  //         break;\n  //       case \"descSu\":\n  //         arrayCopy.sort((a, b) => b.팀수주.localeCompare(a.팀수주));\n  //         break;\n  //       case \"ascMa\":\n  //         arrayCopy.sort((a, b) => a.팀매출.localeCompare(b.팀매출));\n  //         break;\n  //       case \"descMa\":\n  //         arrayCopy.sort((a, b) => b.팀매출.localeCompare(a.팀매출));\n  //         break;\n  //       default:\n  //         return;\n  //     }\n  //     setProjects(arrayCopy);\n  //   };\n  //   useEffect(()=> findAllProjects(), []);\n  //   const findAllProjects = () => {\n  //     if(authority == 0 || authority == 1){\n  //       axios.defaults.headers.common['Authorization'] = cookies.token;\n  //       axios\n  //       .all([\n  //       axios.get(`http://${process.env.REACT_APP_API_URL}/projects`),\n  //       axios.get(`http://${process.env.REACT_APP_API_URL}/members`)])\n  //       .then(axios.spread((res1,res2)=>{\n  //         setProjects(res1.data);\n  //         setMembers(res2.data);\n  //       }))\n  //       .catch(err => {\n  //         if (cookies.token) {\n  //           removeCookie('token');\n  //         }\n  //         alert(\"세션이 만료되었습니다. 다시 로그인 해주세요\");\n  //         window.location.href = \"/\";\n  //       });\n  //     }\n  //  }\n  //   return (\n  //     <>\n  //       <Row>\n  //         <Col>\n  //           {authority == 0 || authority == 1 ?\n  //             <Widget title={<p style={{ fontSize:30, fontWeight: 700 }}>WBS</p>}>\n  //               <Table className=\"meeting__table table-md\">\n  //                 <thead>\n  //                   <tr>\n  //                     <th>\n  //                       <div>\n  //                         <div>\n  //                           팀(수주)\n  //                         </div>\n  //                         <div>\n  //                           <button className=\"orderBtn glyphicon glyphicon-collapse\" name=\"ascSu\" onClick={sortList}/>\n  //                           <button className=\"orderBtn glyphicon glyphicon-collapse-top\" name=\"descSu\" onClick={sortList}/>\n  //                         </div>\n  //                       </div>\n  //                     </th>\n  //                     <th>\n  //                       <div>\n  //                         <div>\n  //                           팀(매출)\n  //                         </div>\n  //                         <div>\n  //                           <button className=\"orderBtn glyphicon glyphicon-collapse\" name=\"ascMa\" onClick={sortList}/>\n  //                           <button className=\"orderBtn glyphicon glyphicon-collapse-top\" name=\"descMa\" onClick={sortList}/>\n  //                         </div>\n  //                       </div>\n  //                     </th>\n  //                     <th>프로젝트 명</th>\n  //                     <th>고객사</th>\n  //                     <th>PM</th>\n  //                   </tr>\n  //                 </thead>\n  //                 <tbody>\n  //                   {projects.map((project) => {\n  //                     const member = members.find(({id}) => id === project.PM);\n  //                     return(\n  //                     <tr key={project.id}>\n  //                       <td>{project.팀수주}</td>\n  //                       <td>{project.팀매출}</td>\n  //                       <td>\n  //                         <Link to={{pathname: `/app/projects/wbs/${project.id}`}}>\n  //                           {project.프로젝트명}\n  //                         </Link>\n  //                       </td>\n  //                       <td>{project.고객사}</td>\n  //                       <td>{member ? member.name : project.PM}</td>\n  //                     </tr>\n  //                   )})}\n  //                 </tbody>\n  //               </Table>\n  //             </Widget>\n  //           :\n  //             <Widget title={\n  //               <p style={{ fontSize:30, fontWeight: 700 }}>권한이 없습니다</p>\n  //             }>\n  //             </Widget>\n  //           }\n  //         </Col>\n  //       </Row>\n  //     </>\n  //   );\n};\n\nexport default WbsList;","map":{"version":3,"sources":["C:/Users/suresoft/Desktop/vomproject/sure-frontend/src/pages/project/WbsList.js"],"names":["React","useState","useEffect","axios","Col","Row","Table","Widget","Link","useCookies","moment","WbsList","authority","JSON","parse","localStorage","getItem","projects","setProjects","members","setMembers","Date","format","year","setYear","getMonth","term","setTerm","cookies","removeCookie","sortList","e","arrayCopy","target","name","sort","a","b","팀수주","localeCompare","팀매출","상태","setClassName","status","findAllProjects","defaults","headers","common","token","all","get","process","env","REACT_APP_API_URL","then","spread","res1","res2","_projects","data","catch","err","alert","window","location","href","display","flexDirection","justifyContent","marginBottom","fontSize","fontWeight","width","value","Array","keys","map","i","filter","project","index","member","find","id","PM","whiteSpace","pathname","프로젝트명"],"mappings":"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QAAQ,8BAAuBP,OAAO,CAACI,EAA/B,cAAqC5D,IAArC;AAAT,OAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACGwD,OAAO,CAACQ,KADX,CADF,CAHF,eAQE;AAAI,MAAA,SAAS,EAAC,wBAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAwCR,OAAO,CAACtC,EAAhD,CARF,eASE;AAAI,MAAA,SAAS,EAAC,wBAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAwCwC,MAAM,GAAGA,MAAM,CAAC/C,IAAV,GAAiB6C,OAAO,CAACK,EAAvE,CATF,CADA;AAYA,GAhBD,CADH,CA1CF,CAVF,CADD,gBA2EC,oBAAC,MAAD;AAAQ,IAAA,KAAK,eACX;AAAG,MAAA,KAAK,EAAE;AAAEd,QAAAA,QAAQ,EAAC,EAAX;AAAeC,QAAAA,UAAU,EAAE;AAA3B,OAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qDADF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IA5EJ,CADF,CADF,CADF,CA/EoB,CAuKtB;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACC,CAzRD;;AA2RA,eAAe5D,OAAf","sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\nimport { Col, Row, Table } from 'reactstrap';\r\nimport Widget from '../../components/Widget/Widget';\r\nimport { Link } from 'react-router-dom';\r\nimport { useCookies } from 'react-cookie';\r\nimport moment from 'moment';\r\n\r\nconst WbsList = () => {\r\n  const authority = JSON.parse(localStorage.getItem(\"userInfo\")) ? JSON.parse(localStorage.getItem(\"userInfo\")).authority : \"\";\r\n  const [projects , setProjects] = useState([]);\r\n  const [members , setMembers] = useState([]);\r\n  const [year, setYear] = useState(moment(new Date()).format('YYYY'));\r\n  const [term, setTerm] = useState(new Date().getMonth() < 6 ? true : false); //상반기 == true, 하반기 == false\r\n  const [cookies, removeCookie ] = useCookies(['token']);\r\n\r\n  const sortList = (e) => {\r\n    let arrayCopy = [...projects];\r\n    switch (e.target.name) {\r\n      case \"ascSu\":\r\n        arrayCopy.sort((a, b) => a.팀수주.localeCompare(b.팀수주));\r\n        break;\r\n      case \"descSu\":\r\n        arrayCopy.sort((a, b) => b.팀수주.localeCompare(a.팀수주));\r\n        break;\r\n      case \"ascMa\":\r\n        arrayCopy.sort((a, b) => a.팀매출.localeCompare(b.팀매출));\r\n        break;\r\n      case \"descMa\":\r\n        arrayCopy.sort((a, b) => b.팀매출.localeCompare(a.팀매출));\r\n        break;\r\n      case \"ascStatus\":\r\n        arrayCopy.sort((a, b) => a.상태.localeCompare(b.상태));\r\n        break;\r\n      case \"descStatus\":\r\n        arrayCopy.sort((a, b) => b.상태.localeCompare(a.상태));\r\n        break;\r\n      default:\r\n        return;\r\n    }\r\n    setProjects(arrayCopy);\r\n  };\r\n\r\n  const setClassName = (status) => {\r\n    switch (status) {\r\n      case \"1.예산확보\":\r\n      case \"2.고객의사\":\r\n      case \"3.제안단계\":\r\n        return \"project__status_start\";\r\n      case \"4.업체선정\":\r\n      case \"5.진행예정\":\r\n        return \"project__status_ready\";\r\n      case \"6.진행중\":\r\n        return \"project__status_progress\";\r\n      case \"7.종료\":\r\n        return \"project__status_end\";\r\n      case \"8.Dropped\":\r\n        return \"project__status_dropped\";\r\n      default:\r\n        return \"project__status_progress\";\r\n    }\r\n  };\r\n\r\n  useEffect(()=> findAllProjects(), []);\r\n\r\n  const findAllProjects = () => {\r\n    if(authority == 0 || authority == 1){\r\n      axios.defaults.headers.common['Authorization'] = cookies.token;\r\n      axios\r\n      .all([\r\n      axios.get(`http://${process.env.REACT_APP_API_URL}/projects`),\r\n      axios.get(`http://${process.env.REACT_APP_API_URL}/members`)])\r\n      .then(axios.spread((res1,res2)=>{\r\n        const _projects = res1.data.sort((a,b)=>a.상태.localeCompare(b.상태));\r\n        setProjects(_projects);\r\n        setMembers(res2.data);\r\n      }))\r\n      .catch(err => {\r\n        if (cookies.token) {\r\n          removeCookie('token');\r\n        }\r\n        alert(\"세션이 만료되었습니다. 다시 로그인 해주세요\");\r\n        window.location.href = \"/\";\r\n      });\r\n    }\r\n }\r\n\r\n  return (\r\n    <>\r\n      <Row>\r\n        <Col>\r\n          {authority == 0 || authority == 1 ?\r\n            <Widget title={\r\n              <div style={{display: 'flex', flexDirection:'row', justifyContent: 'space-between', marginBottom: 1+'rem'}}>\r\n                <p style={{ fontSize:30, fontWeight: 700 }}>WBS</p>\r\n                <select className=\"form-control\" style={{width: 10+'rem'}} name=\"year\" value={year} onChange={(e)=>setYear(e.target.value)}>\r\n                  {[...Array(moment(new Date()).format('YYYY') - 2019).keys()]\r\n                  .map((i)=>{\r\n                    return <option key={i} value={moment(new Date()).format('YYYY') - i}>{moment(new Date()).format('YYYY') - i}</option>\r\n                  })}\r\n                </select>\r\n              </div>}>\r\n              <Table className=\"project-list__table table-sm\">\r\n                <thead>\r\n                  <tr>\r\n                    <th className=\"col-1 project-list__th\">\r\n                      <div className=\"project-list__th_div\">\r\n                        <div>\r\n                          팀(수주)\r\n                        </div>\r\n                        <div>\r\n                          <button className=\"orderBtn glyphicon glyphicon-collapse-top\" name=\"ascSu\" onClick={sortList}/>\r\n                          <button className=\"orderBtn glyphicon glyphicon-collapse\" name=\"descSu\" onClick={sortList}/>\r\n                        </div>\r\n                      </div>\r\n                    </th>\r\n                    <th className=\"col-1 project-list__th\">\r\n                      <div className=\"project-list__th_div\">\r\n                        <div>\r\n                          팀(매출)\r\n                        </div>\r\n                        <div>\r\n                          <button className=\"orderBtn glyphicon glyphicon-collapse-top\" name=\"ascMa\" onClick={sortList}/>\r\n                          <button className=\"orderBtn glyphicon glyphicon-collapse\" name=\"descMa\" onClick={sortList}/>\r\n                        </div>\r\n                      </div>\r\n                    </th>\r\n                    <th className=\"col-3 project-list__th\">\r\n                      프로젝트 명\r\n                    </th>\r\n                    <th className=\"col-1 project-list__th\">\r\n                      <div className=\"project-list__th_div\">\r\n                        <div>\r\n                          상태\r\n                        </div>\r\n                        <div>\r\n                          <button className=\"orderBtn glyphicon glyphicon-collapse-top\" name=\"ascStatus\" onClick={sortList}/>\r\n                          <button className=\"orderBtn glyphicon glyphicon-collapse\" name=\"descStatus\" onClick={sortList}/>\r\n                        </div>\r\n                      </div>\r\n                    </th>\r\n                    <th className=\"col-1 project-list__th\">PM</th>\r\n                  </tr>\r\n                </thead>\r\n                <tbody>\r\n                  {projects\r\n                  .filter((project)=> project.year == year)\r\n                  .map((project, index) => {\r\n                    const member = members.find(({id}) => id === project.PM);\r\n                    return(\r\n                    <tr key={index} className={setClassName(project.상태)}>\r\n                      <td className=\"col-1 project-list__td\">{project.팀수주}</td>\r\n                      <td className=\"col-1 project-list__td\">{project.팀매출}</td>\r\n                      <td className=\"col-3 project-list__td\" style={{whiteSpace: 'break-spaces'}}>\r\n                        <Link to={{pathname: `/app/projects/wbs/${project.id}/${year}`}}>\r\n                          {project.프로젝트명}\r\n                        </Link>\r\n                      </td>\r\n                      <td className=\"col-1 project-list__td\">{project.상태}</td>\r\n                      <td className=\"col-1 project-list__td\">{member ? member.name : project.PM}</td>\r\n                    </tr>\r\n                  )})}\r\n                </tbody>\r\n              </Table>\r\n            </Widget>\r\n          :\r\n            <Widget title={\r\n              <p style={{ fontSize:30, fontWeight: 700 }}>권한이 없습니다</p>\r\n            }>\r\n            </Widget>\r\n          }\r\n        </Col>\r\n      </Row>\r\n    </>\r\n  );\r\n//   const authority = JSON.parse(localStorage.getItem(\"userInfo\")) ? JSON.parse(localStorage.getItem(\"userInfo\")).authority : \"\";\r\n//   const [cookies, removeCookie ] = useCookies(['token']);\r\n//   const [projects , setProjects] = useState([]);\r\n//   const [members , setMembers] = useState([]);\r\n\r\n//   const sortList = (e) => {\r\n//     let arrayCopy = [...projects];\r\n//     switch (e.target.name) {\r\n//       case \"ascSu\":\r\n//         arrayCopy.sort((a, b) => a.팀수주.localeCompare(b.팀수주));\r\n//         break;\r\n//       case \"descSu\":\r\n//         arrayCopy.sort((a, b) => b.팀수주.localeCompare(a.팀수주));\r\n//         break;\r\n//       case \"ascMa\":\r\n//         arrayCopy.sort((a, b) => a.팀매출.localeCompare(b.팀매출));\r\n//         break;\r\n//       case \"descMa\":\r\n//         arrayCopy.sort((a, b) => b.팀매출.localeCompare(a.팀매출));\r\n//         break;\r\n//       default:\r\n//         return;\r\n//     }\r\n//     setProjects(arrayCopy);\r\n//   };\r\n\r\n//   useEffect(()=> findAllProjects(), []);\r\n\r\n//   const findAllProjects = () => {\r\n//     if(authority == 0 || authority == 1){\r\n//       axios.defaults.headers.common['Authorization'] = cookies.token;\r\n//       axios\r\n//       .all([\r\n//       axios.get(`http://${process.env.REACT_APP_API_URL}/projects`),\r\n//       axios.get(`http://${process.env.REACT_APP_API_URL}/members`)])\r\n//       .then(axios.spread((res1,res2)=>{\r\n//         setProjects(res1.data);\r\n//         setMembers(res2.data);\r\n//       }))\r\n//       .catch(err => {\r\n//         if (cookies.token) {\r\n//           removeCookie('token');\r\n//         }\r\n//         alert(\"세션이 만료되었습니다. 다시 로그인 해주세요\");\r\n//         window.location.href = \"/\";\r\n//       });\r\n//     }\r\n//  }\r\n\r\n//   return (\r\n//     <>\r\n//       <Row>\r\n//         <Col>\r\n//           {authority == 0 || authority == 1 ?\r\n//             <Widget title={<p style={{ fontSize:30, fontWeight: 700 }}>WBS</p>}>\r\n//               <Table className=\"meeting__table table-md\">\r\n//                 <thead>\r\n//                   <tr>\r\n//                     <th>\r\n//                       <div>\r\n//                         <div>\r\n//                           팀(수주)\r\n//                         </div>\r\n//                         <div>\r\n//                           <button className=\"orderBtn glyphicon glyphicon-collapse\" name=\"ascSu\" onClick={sortList}/>\r\n//                           <button className=\"orderBtn glyphicon glyphicon-collapse-top\" name=\"descSu\" onClick={sortList}/>\r\n//                         </div>\r\n//                       </div>\r\n//                     </th>\r\n//                     <th>\r\n//                       <div>\r\n//                         <div>\r\n//                           팀(매출)\r\n//                         </div>\r\n//                         <div>\r\n//                           <button className=\"orderBtn glyphicon glyphicon-collapse\" name=\"ascMa\" onClick={sortList}/>\r\n//                           <button className=\"orderBtn glyphicon glyphicon-collapse-top\" name=\"descMa\" onClick={sortList}/>\r\n//                         </div>\r\n//                       </div>\r\n//                     </th>\r\n//                     <th>프로젝트 명</th>\r\n//                     <th>고객사</th>\r\n//                     <th>PM</th>\r\n//                   </tr>\r\n//                 </thead>\r\n//                 <tbody>\r\n//                   {projects.map((project) => {\r\n//                     const member = members.find(({id}) => id === project.PM);\r\n//                     return(\r\n//                     <tr key={project.id}>\r\n//                       <td>{project.팀수주}</td>\r\n//                       <td>{project.팀매출}</td>\r\n//                       <td>\r\n//                         <Link to={{pathname: `/app/projects/wbs/${project.id}`}}>\r\n//                           {project.프로젝트명}\r\n//                         </Link>\r\n//                       </td>\r\n//                       <td>{project.고객사}</td>\r\n//                       <td>{member ? member.name : project.PM}</td>\r\n//                     </tr>\r\n//                   )})}\r\n//                 </tbody>\r\n//               </Table>\r\n//             </Widget>\r\n//           :\r\n//             <Widget title={\r\n//               <p style={{ fontSize:30, fontWeight: 700 }}>권한이 없습니다</p>\r\n//             }>\r\n//             </Widget>\r\n//           }\r\n//         </Col>\r\n//       </Row>\r\n//     </>\r\n//   );\r\n}\r\n\r\nexport default WbsList;"]},"metadata":{},"sourceType":"module"}